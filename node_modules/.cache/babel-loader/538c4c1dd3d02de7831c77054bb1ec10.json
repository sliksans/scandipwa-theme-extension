{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductPrice/ProductPrice.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { MixType } from \"/home/arturs/scandiweb/scandipwa/src/type/Common\";\nimport { PriceType } from \"/home/arturs/scandiweb/scandipwa/src/type/ProductList\";\nimport { formatPrice, roundPrice } from \"/home/arturs/scandiweb/scandipwa/src/util/Price\";\nimport ProductPrice from \"./ProductPrice.component\";\nimport { DISPLAY_PRODUCT_PRICES_IN_CATALOG_BOTH, DISPLAY_PRODUCT_PRICES_IN_CATALOG_EXCL_TAX, DISPLAY_PRODUCT_PRICES_IN_CATALOG_INCL_TAX } from \"./ProductPrice.config\";\n/** #namespace Component/ProductPrice/Container/mapStateToProps */\n\nexport const mapStateToProps = Mosaic.middleware(function (state) {\n  var _state$ConfigReducer$;\n\n  return {\n    displayTaxInPrice: (_state$ConfigReducer$ = state.ConfigReducer.priceTaxDisplay) === null || _state$ConfigReducer$ === void 0 ? void 0 : _state$ConfigReducer$.product_price_display_type\n  };\n}, \"Component/ProductPrice/Container/mapStateToProps\");\n/** #namespace Component/ProductPrice/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\n\nexport const mapDispatchToProps = Mosaic.middleware(function (dispatch) {\n  return {};\n}, \"Component/ProductPrice/Container/mapDispatchToProps\");\n/**\n * Product price\n * @class ProductPrice\n * #namespace Component/ProductPrice/Container\n */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const ProductPriceContainer = Mosaic.middleware((_temp = _class = class ProductPriceContainer_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.containerProps = function () {\n      const {\n        price: {\n          minimum_price: {\n            discount: {\n              percent_off: discountPercentage = 0\n            } = {},\n            final_price: {\n              value: minimalPriceValue = 0,\n              currency: priceCurrency = ''\n            } = {},\n            regular_price: {\n              value: regularPriceValue = 0\n            } = {},\n            default_price: {\n              value: defaultPriceValue = 0\n            } = {},\n            default_final_price_excl_tax: {\n              value: defaultFinalPriceExclTax = 0\n            } = {}\n          } = {}\n        } = {}\n      } = _this.props;\n\n      if ((!minimalPriceValue || !regularPriceValue) && !defaultPriceValue) {\n        return {};\n      }\n\n      const roundedRegularPrice = _this.getRoundedRegularPrice();\n\n      const formattedFinalPrice = _this.getFormattedFinalPrice();\n\n      const formattedSubPrice = _this.getFormattedSubPrice();\n\n      return {\n        roundedRegularPrice,\n        priceCurrency,\n        defaultFinalPriceExclTax,\n        discountPercentage,\n        formattedFinalPrice,\n        formattedSubPrice\n      };\n    };\n  }\n\n  getRoundedRegularPrice() {\n    const {\n      price: {\n        minimum_price: {\n          regular_price: {\n            value: regularPriceValue = 0\n          } = {},\n          regular_price_excl_tax: {\n            value: regularPriceExclTaxValue = 0\n          } = {}\n        } = {}\n      } = {},\n      displayTaxInPrice\n    } = this.props;\n\n    if (displayTaxInPrice === DISPLAY_PRODUCT_PRICES_IN_CATALOG_EXCL_TAX) {\n      return roundPrice(regularPriceExclTaxValue);\n    }\n\n    return roundPrice(regularPriceValue);\n  }\n\n  getFormattedFinalPrice() {\n    const {\n      price: {\n        minimum_price: {\n          final_price: {\n            value: minimalPriceValue,\n            currency: priceCurrency\n          } = {},\n          final_price_excl_tax: {\n            value: minimalPriceExclTaxValue\n          } = {}\n        } = {}\n      } = {},\n      displayTaxInPrice = ''\n    } = this.props;\n\n    if (displayTaxInPrice === DISPLAY_PRODUCT_PRICES_IN_CATALOG_EXCL_TAX) {\n      return formatPrice(minimalPriceExclTaxValue, priceCurrency);\n    }\n\n    return formatPrice(minimalPriceValue, priceCurrency);\n  }\n\n  getFormattedSubPrice() {\n    const {\n      price: {\n        minimum_price: {\n          final_price: {\n            currency: priceCurrency = ''\n          },\n          final_price_excl_tax: {\n            value: minimalPriceExclTaxValue = 0\n          } = {}\n        } = {}\n      } = {},\n      displayTaxInPrice = ''\n    } = this.props;\n\n    if (displayTaxInPrice === DISPLAY_PRODUCT_PRICES_IN_CATALOG_BOTH) {\n      return formatPrice(minimalPriceExclTaxValue, priceCurrency);\n    }\n\n    return null;\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, ProductPrice, Object.assign({}, this.props, this.containerProps(), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}, _class.propTypes = {\n  isSchemaRequired: PropTypes.bool,\n  price: PriceType,\n  mix: MixType,\n  displayTaxInPrice: PropTypes.string\n}, _class.defaultProps = {\n  isSchemaRequired: false,\n  displayTaxInPrice: DISPLAY_PRODUCT_PRICES_IN_CATALOG_INCL_TAX,\n  mix: {},\n  price: {}\n}, _temp), \"Component/ProductPrice/Container\");\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPriceContainer);","map":{"version":3,"sources":["/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductPrice/ProductPrice.container.js"],"names":["PropTypes","PureComponent","connect","MixType","PriceType","formatPrice","roundPrice","ProductPrice","DISPLAY_PRODUCT_PRICES_IN_CATALOG_BOTH","DISPLAY_PRODUCT_PRICES_IN_CATALOG_EXCL_TAX","DISPLAY_PRODUCT_PRICES_IN_CATALOG_INCL_TAX","mapStateToProps","state","displayTaxInPrice","ConfigReducer","priceTaxDisplay","product_price_display_type","mapDispatchToProps","dispatch","containerProps","price","minimum_price","discount","percent_off","discountPercentage","final_price","value","minimalPriceValue","currency","priceCurrency","regular_price","regularPriceValue","default_price","defaultPriceValue","default_final_price_excl_tax","defaultFinalPriceExclTax","props","roundedRegularPrice","getRoundedRegularPrice","formattedFinalPrice","getFormattedFinalPrice","formattedSubPrice","getFormattedSubPrice","regular_price_excl_tax","regularPriceExclTaxValue","final_price_excl_tax","minimalPriceExclTaxValue","render","propTypes","isSchemaRequired","bool","mix","string","defaultProps","ProductPriceContainer"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright Â© Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { MixType } from 'Type/Common';\nimport { PriceType } from 'Type/ProductList';\nimport {\n    formatPrice,\n    roundPrice\n} from 'Util/Price';\n\nimport ProductPrice from './ProductPrice.component';\nimport {\n    DISPLAY_PRODUCT_PRICES_IN_CATALOG_BOTH,\n    DISPLAY_PRODUCT_PRICES_IN_CATALOG_EXCL_TAX,\n    DISPLAY_PRODUCT_PRICES_IN_CATALOG_INCL_TAX\n} from './ProductPrice.config';\n\n/** @namespace Component/ProductPrice/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    displayTaxInPrice: state.ConfigReducer.priceTaxDisplay?.product_price_display_type\n});\n\n/** @namespace Component/ProductPrice/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\n/**\n * Product price\n * @class ProductPrice\n * @namespace Component/ProductPrice/Container\n */\nexport class ProductPriceContainer extends PureComponent {\n    static propTypes = {\n        isSchemaRequired: PropTypes.bool,\n        price: PriceType,\n        mix: MixType,\n        displayTaxInPrice: PropTypes.string\n    };\n\n    static defaultProps = {\n        isSchemaRequired: false,\n        displayTaxInPrice: DISPLAY_PRODUCT_PRICES_IN_CATALOG_INCL_TAX,\n        mix: {},\n        price: {}\n    };\n\n    containerProps = () => {\n        const {\n            price: {\n                minimum_price: {\n                    discount: {\n                        percent_off: discountPercentage = 0\n                    } = {},\n                    final_price: {\n                        value: minimalPriceValue = 0,\n                        currency: priceCurrency = ''\n                    } = {},\n                    regular_price: {\n                        value: regularPriceValue = 0\n                    } = {},\n                    default_price: {\n                        value: defaultPriceValue = 0\n                    } = {},\n                    default_final_price_excl_tax: {\n                        value: defaultFinalPriceExclTax = 0\n                    } = {}\n                } = {}\n            } = {}\n        } = this.props;\n\n        if ((!minimalPriceValue || !regularPriceValue) && !defaultPriceValue) {\n            return {};\n        }\n\n        const roundedRegularPrice = this.getRoundedRegularPrice();\n        const formattedFinalPrice = this.getFormattedFinalPrice();\n        const formattedSubPrice = this.getFormattedSubPrice();\n\n        return {\n            roundedRegularPrice,\n            priceCurrency,\n            defaultFinalPriceExclTax,\n            discountPercentage,\n            formattedFinalPrice,\n            formattedSubPrice\n        };\n    };\n\n    getRoundedRegularPrice() {\n        const {\n            price: {\n                minimum_price: {\n                    regular_price: {\n                        value: regularPriceValue = 0\n                    } = {},\n                    regular_price_excl_tax: {\n                        value: regularPriceExclTaxValue = 0\n                    } = {}\n                } = {}\n            } = {},\n            displayTaxInPrice\n        } = this.props;\n\n        if (displayTaxInPrice === DISPLAY_PRODUCT_PRICES_IN_CATALOG_EXCL_TAX) {\n            return roundPrice(regularPriceExclTaxValue);\n        }\n\n        return roundPrice(regularPriceValue);\n    }\n\n    getFormattedFinalPrice() {\n        const {\n            price: {\n                minimum_price: {\n                    final_price: {\n                        value: minimalPriceValue,\n                        currency: priceCurrency\n                    } = {},\n                    final_price_excl_tax: {\n                        value: minimalPriceExclTaxValue\n                    } = {}\n                } = {}\n            } = {},\n            displayTaxInPrice = ''\n        } = this.props;\n\n        if (displayTaxInPrice === DISPLAY_PRODUCT_PRICES_IN_CATALOG_EXCL_TAX) {\n            return formatPrice(minimalPriceExclTaxValue, priceCurrency);\n        }\n\n        return formatPrice(minimalPriceValue, priceCurrency);\n    }\n\n    getFormattedSubPrice() {\n        const {\n            price: {\n                minimum_price: {\n                    final_price: {\n                        currency: priceCurrency = ''\n                    },\n                    final_price_excl_tax: {\n                        value: minimalPriceExclTaxValue = 0\n                    } = {}\n                } = {}\n            } = {},\n            displayTaxInPrice = ''\n        } = this.props;\n\n        if (displayTaxInPrice === DISPLAY_PRODUCT_PRICES_IN_CATALOG_BOTH) {\n            return formatPrice(minimalPriceExclTaxValue, priceCurrency);\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <ProductPrice\n              { ...this.props }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPriceContainer);\n"]},"metadata":{},"sourceType":"module"}