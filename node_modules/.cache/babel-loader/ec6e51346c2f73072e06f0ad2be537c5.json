{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport { Field } from \"/home/arturs/scandiweb/scandipwa/src/util/Query\";\n/** #namespace Query/Review */\n\nexport const ReviewQuery = Mosaic.middleware(class ReviewQuery_ extends Mosaic.Extensible() {\n  getAddProductReviewMutation(reviewItem) {\n    return new Field('createProductReview').setAlias('addProductReview').addArgument('input', 'CreateProductReviewInput!', reviewItem).addField(new Field('review').addField('nickname'));\n  }\n\n  getRatingQuery() {\n    return new Field('productReviewRatingsMetadata').setAlias('reviewRatings').addFieldList(this._getRatingFields());\n  }\n\n  _getRatingFields() {\n    return [this._getRatingItemsField()];\n  }\n\n  _getRatingItemsField() {\n    return new Field('items').addFieldList(this._getRatingItemsFields());\n  }\n\n  _getRatingItemsFields() {\n    return [new Field('id').setAlias('rating_id'), new Field('name').setAlias('rating_code'), this._getRatingOptionsField()];\n  }\n\n  _getRatingOptionFields() {\n    return [new Field('value_id').setAlias('option_id'), 'value'];\n  }\n\n  _getRatingOptionsField() {\n    return new Field('values').setAlias('rating_options').addFieldList(this._getRatingOptionFields());\n  }\n\n}, \"Query/Review\");\nexport default new ReviewQuery();","map":{"version":3,"sources":["/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/query/Review.query.js"],"names":["Field","getAddProductReviewMutation","reviewItem","setAlias","addArgument","addField","getRatingQuery","addFieldList","_getRatingFields","_getRatingItemsField","_getRatingItemsFields","_getRatingOptionsField","_getRatingOptionFields","ReviewQuery"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,KAAT;AAEA;;AACA,4FAAyB;AACrBC,EAAAA,2BAA2B,CAACC,UAAD,EAAa;AACpC,WAAO,IAAIF,KAAJ,CAAU,qBAAV,EACFG,QADE,CACO,kBADP,EAEFC,WAFE,CAEU,OAFV,EAEmB,2BAFnB,EAEgDF,UAFhD,EAGFG,QAHE,CAGO,IAAIL,KAAJ,CAAU,QAAV,EAAoBK,QAApB,CAA6B,UAA7B,CAHP,CAAP;AAIH;;AAEDC,EAAAA,cAAc,GAAG;AACb,WAAO,IAAIN,KAAJ,CAAU,8BAAV,EACFG,QADE,CACO,eADP,EAEFI,YAFE,CAEW,KAAKC,gBAAL,EAFX,CAAP;AAGH;;AAEDA,EAAAA,gBAAgB,GAAG;AACf,WAAO,CACH,KAAKC,oBAAL,EADG,CAAP;AAGH;;AAEDA,EAAAA,oBAAoB,GAAG;AACnB,WAAO,IAAIT,KAAJ,CAAU,OAAV,EACFO,YADE,CACW,KAAKG,qBAAL,EADX,CAAP;AAEH;;AAEDA,EAAAA,qBAAqB,GAAG;AACpB,WAAO,CACH,IAAIV,KAAJ,CAAU,IAAV,EAAgBG,QAAhB,CAAyB,WAAzB,CADG,EAEH,IAAIH,KAAJ,CAAU,MAAV,EAAkBG,QAAlB,CAA2B,aAA3B,CAFG,EAGH,KAAKQ,sBAAL,EAHG,CAAP;AAKH;;AAEDC,EAAAA,sBAAsB,GAAG;AACrB,WAAO,CACH,IAAIZ,KAAJ,CAAU,UAAV,EAAsBG,QAAtB,CAA+B,WAA/B,CADG,EAEH,OAFG,CAAP;AAIH;;AAEDQ,EAAAA,sBAAsB,GAAG;AACrB,WAAO,IAAIX,KAAJ,CAAU,QAAV,EACFG,QADE,CACO,gBADP,EAEFI,YAFE,CAEW,KAAKK,sBAAL,EAFX,CAAP;AAGH;;AA5CoB,CAAzB;AA+CA,eAAe,IAAIC,WAAJ,EAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { Field } from 'Util/Query';\n\n/** @namespace Query/Review */\nexport class ReviewQuery {\n    getAddProductReviewMutation(reviewItem) {\n        return new Field('createProductReview')\n            .setAlias('addProductReview')\n            .addArgument('input', 'CreateProductReviewInput!', reviewItem)\n            .addField(new Field('review').addField('nickname'));\n    }\n\n    getRatingQuery() {\n        return new Field('productReviewRatingsMetadata')\n            .setAlias('reviewRatings')\n            .addFieldList(this._getRatingFields());\n    }\n\n    _getRatingFields() {\n        return [\n            this._getRatingItemsField()\n        ];\n    }\n\n    _getRatingItemsField() {\n        return new Field('items')\n            .addFieldList(this._getRatingItemsFields());\n    }\n\n    _getRatingItemsFields() {\n        return [\n            new Field('id').setAlias('rating_id'),\n            new Field('name').setAlias('rating_code'),\n            this._getRatingOptionsField()\n        ];\n    }\n\n    _getRatingOptionFields() {\n        return [\n            new Field('value_id').setAlias('option_id'),\n            'value'\n        ];\n    }\n\n    _getRatingOptionsField() {\n        return new Field('values')\n            .setAlias('rating_options')\n            .addFieldList(this._getRatingOptionFields());\n    }\n}\n\nexport default new ReviewQuery();\n"]},"metadata":{},"sourceType":"module"}