{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport ProductListQuery from \"/home/arturs/scandiweb/extension/src/query/ProductList.query\";\nimport { QueryDispatcher } from \"/home/arturs/scandiweb/extension/src/util/Request\";\nimport { clearSearchResults, updateLoadStatus, updateSearchBar } from \"./SearchBar.action\";\n/**\n * Search Bar Dispatcher\n * @class SearchBarDispatcher\n * @extends QueryDispatcher\n * #namespace Store/SearchBar/Dispatcher\n */\n\nexport const SearchBarDispatcher = Mosaic.middleware(class SearchBarDispatcher_ extends Mosaic.Extensible(QueryDispatcher) {\n  __construct() {\n    super.__construct('SearchBar');\n  }\n\n  onSuccess(data, dispatch) {\n    dispatch(updateLoadStatus(false));\n    dispatch(updateSearchBar(data));\n  }\n\n  onError(_, dispatch) {\n    dispatch(updateLoadStatus(false));\n  }\n\n  clearSearchResults(dispatch) {\n    dispatch(clearSearchResults());\n  }\n\n  prepareRequest(options, dispatch) {\n    dispatch(updateLoadStatus(true));\n    return ProductListQuery.getQuery({ ...options,\n      notRequireInfo: true\n    });\n  }\n\n}, \"Store/SearchBar/Dispatcher\");\nexport default new SearchBarDispatcher();","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/store/SearchBar/SearchBar.dispatcher.js"],"names":["ProductListQuery","QueryDispatcher","clearSearchResults","updateLoadStatus","updateSearchBar","__construct","onSuccess","data","dispatch","onError","_","prepareRequest","options","getQuery","notRequireInfo","SearchBarDispatcher"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,gBAAP;AACA,SAASC,eAAT;AAEA,SAASC,kBAAT,EAA6BC,gBAA7B,EAA+CC,eAA/C;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,0GAAyCH,eAAzC,EAAyD;AACrDI,EAAAA,WAAW,GAAG;AACV,UAAMA,WAAN,CAAkB,WAAlB;AACH;;AAEDC,EAAAA,SAAS,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACtBA,IAAAA,QAAQ,CAACL,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACAK,IAAAA,QAAQ,CAACJ,eAAe,CAACG,IAAD,CAAhB,CAAR;AACH;;AAEDE,EAAAA,OAAO,CAACC,CAAD,EAAIF,QAAJ,EAAc;AACjBA,IAAAA,QAAQ,CAACL,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACH;;AAEDD,EAAAA,kBAAkB,CAACM,QAAD,EAAW;AACzBA,IAAAA,QAAQ,CAACN,kBAAkB,EAAnB,CAAR;AACH;;AAEDS,EAAAA,cAAc,CAACC,OAAD,EAAUJ,QAAV,EAAoB;AAC9BA,IAAAA,QAAQ,CAACL,gBAAgB,CAAC,IAAD,CAAjB,CAAR;AAEA,WAAOH,gBAAgB,CAACa,QAAjB,CAA0B,EAC7B,GAAGD,OAD0B;AAE7BE,MAAAA,cAAc,EAAE;AAFa,KAA1B,CAAP;AAIH;;AAzBoD,CAAzD;AA4BA,eAAe,IAAIC,mBAAJ,EAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport ProductListQuery from 'Query/ProductList.query';\nimport { QueryDispatcher } from 'Util/Request';\n\nimport { clearSearchResults, updateLoadStatus, updateSearchBar } from './SearchBar.action';\n\n/**\n * Search Bar Dispatcher\n * @class SearchBarDispatcher\n * @extends QueryDispatcher\n * @namespace Store/SearchBar/Dispatcher\n */\nexport class SearchBarDispatcher extends QueryDispatcher {\n    __construct() {\n        super.__construct('SearchBar');\n    }\n\n    onSuccess(data, dispatch) {\n        dispatch(updateLoadStatus(false));\n        dispatch(updateSearchBar(data));\n    }\n\n    onError(_, dispatch) {\n        dispatch(updateLoadStatus(false));\n    }\n\n    clearSearchResults(dispatch) {\n        dispatch(clearSearchResults());\n    }\n\n    prepareRequest(options, dispatch) {\n        dispatch(updateLoadStatus(true));\n\n        return ProductListQuery.getQuery({\n            ...options,\n            notRequireInfo: true\n        });\n    }\n}\n\nexport default new SearchBarDispatcher();\n"]},"metadata":{},"sourceType":"module"}