{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/MyAccountAddressTable/MyAccountAddressTable.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport KeyValueTable from \"/home/arturs/scandiweb/extension/src/component/KeyValueTable\";\nimport Loader from \"/home/arturs/scandiweb/extension/src/component/Loader\";\nimport { addressType } from \"/home/arturs/scandiweb/extension/src/type/Account\";\nimport { MixType } from \"/home/arturs/scandiweb/extension/src/type/Common\";\nimport \"./MyAccountAddressTable.style\";\n/** #namespace Component/MyAccountAddressTable/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const MyAccountAddressTable = Mosaic.middleware((_temp = _class = class MyAccountAddressTable_ extends Mosaic.Extensible(KeyValueTable) {\n  get dataPairArray() {\n    const {\n      address,\n      getFormatedRegion,\n      showAdditionalFields\n    } = this.props;\n    const regionData = getFormatedRegion(address);\n    const additionalFields = [{\n      key: 'country',\n      label: __('County'),\n      source: regionData\n    }, {\n      key: 'region',\n      label: __('State/Province'),\n      source: regionData\n    }, {\n      key: 'city',\n      label: __('City'),\n      source: address\n    } // Will be back with B2B update\n    // {\n    //     key: 'company',\n    //     label: __('Company'),\n    //     source: address\n    // }\n    ];\n    return [{\n      key: 'firstname',\n      label: __('First name'),\n      source: address\n    }, {\n      key: 'lastname',\n      label: __('Last name'),\n      source: address\n    }, {\n      key: 'street',\n      label: __('Street'),\n      source: address\n    }, {\n      key: 'postcode',\n      label: __('Postal code'),\n      source: address\n    }, {\n      key: 'telephone',\n      label: __('Phone number'),\n      source: address\n    }, ...(showAdditionalFields ? additionalFields : [])];\n  }\n\n  renderActions() {\n    const {\n      onEditClick,\n      onDeleteClick,\n      showActions,\n      address: {\n        default_billing,\n        default_shipping\n      }\n    } = this.props;\n    const isDeleteAllowed = default_shipping || default_billing;\n\n    if (!showActions) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"Button\",\n      onClick: onEditClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, __('Edit address')), /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"Button\",\n      mods: {\n        isHollow: true\n      },\n      onClick: onDeleteClick,\n      disabled: isDeleteAllowed,\n      title: isDeleteAllowed ? __('Can not delete - address is set as default.') : 'Delete this address',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, __('Delete')));\n  }\n\n  render() {\n    const {\n      countries,\n      mix\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"MyAccountAddressTable\",\n      mix: mix,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, Loader, {\n      isLoading: !countries.length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }), this.renderTable(), this.renderActions());\n  }\n\n}, _class.propTypes = {\n  mix: MixType,\n  getFormatedRegion: PropTypes.func.isRequired,\n  address: addressType.isRequired,\n  showActions: PropTypes.bool,\n  showAdditionalFields: PropTypes.bool,\n  onEditClick: PropTypes.func.isRequired,\n  onDeleteClick: PropTypes.func.isRequired,\n  countries: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string,\n    id: PropTypes.string,\n    available_regions: PropTypes.arrayOf(PropTypes.shape({\n      code: PropTypes.string,\n      name: PropTypes.string,\n      id: PropTypes.number\n    }))\n  })).isRequired\n}, _class.defaultProps = {\n  showAdditionalFields: false,\n  showActions: false,\n  mix: {}\n}, _temp), \"Component/MyAccountAddressTable/Component\");\nexport default MyAccountAddressTable;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/MyAccountAddressTable/MyAccountAddressTable.component.js"],"names":["PropTypes","KeyValueTable","Loader","addressType","MixType","dataPairArray","address","getFormatedRegion","showAdditionalFields","props","regionData","additionalFields","key","label","__","source","renderActions","onEditClick","onDeleteClick","showActions","default_billing","default_shipping","isDeleteAllowed","isHollow","render","countries","mix","length","renderTable","propTypes","func","isRequired","bool","arrayOf","shape","string","id","available_regions","code","name","number","defaultProps","MyAccountAddressTable"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\n\nimport KeyValueTable from 'Component/KeyValueTable';\nimport Loader from 'Component/Loader';\nimport { addressType } from 'Type/Account';\nimport { MixType } from 'Type/Common';\n\nimport './MyAccountAddressTable.style';\n\n/** @namespace Component/MyAccountAddressTable/Component */\nexport class MyAccountAddressTable extends KeyValueTable {\n    static propTypes = {\n        mix: MixType,\n        getFormatedRegion: PropTypes.func.isRequired,\n        address: addressType.isRequired,\n        showActions: PropTypes.bool,\n        showAdditionalFields: PropTypes.bool,\n        onEditClick: PropTypes.func.isRequired,\n        onDeleteClick: PropTypes.func.isRequired,\n        countries: PropTypes.arrayOf(\n            PropTypes.shape({\n                label: PropTypes.string,\n                id: PropTypes.string,\n                available_regions: PropTypes.arrayOf(\n                    PropTypes.shape({\n                        code: PropTypes.string,\n                        name: PropTypes.string,\n                        id: PropTypes.number\n                    })\n                )\n            })\n        ).isRequired\n    };\n\n    static defaultProps = {\n        showAdditionalFields: false,\n        showActions: false,\n        mix: {}\n    };\n\n    get dataPairArray() {\n        const { address, getFormatedRegion, showAdditionalFields } = this.props;\n        const regionData = getFormatedRegion(address);\n\n        const additionalFields = [\n            {\n                key: 'country',\n                label: __('County'),\n                source: regionData\n            },\n            {\n                key: 'region',\n                label: __('State/Province'),\n                source: regionData\n            },\n            {\n                key: 'city',\n                label: __('City'),\n                source: address\n            }\n            // Will be back with B2B update\n            // {\n            //     key: 'company',\n            //     label: __('Company'),\n            //     source: address\n            // }\n        ];\n\n        return [\n            {\n                key: 'firstname',\n                label: __('First name'),\n                source: address\n            },\n            {\n                key: 'lastname',\n                label: __('Last name'),\n                source: address\n            },\n            {\n                key: 'street',\n                label: __('Street'),\n                source: address\n            },\n            {\n                key: 'postcode',\n                label: __('Postal code'),\n                source: address\n            },\n            {\n                key: 'telephone',\n                label: __('Phone number'),\n                source: address\n            },\n            ...(showAdditionalFields ? additionalFields : [])\n        ];\n    }\n\n    renderActions() {\n        const {\n            onEditClick,\n            onDeleteClick,\n            showActions,\n            address: { default_billing, default_shipping }\n        } = this.props;\n\n        const isDeleteAllowed = default_shipping || default_billing;\n\n        if (!showActions) {\n            return null;\n        }\n\n        return (\n            <>\n                <button\n                  block=\"Button\"\n                  onClick={ onEditClick }\n                >\n                    { __('Edit address') }\n                </button>\n                <button\n                  block=\"Button\"\n                  mods={ { isHollow: true } }\n                  onClick={ onDeleteClick }\n                  disabled={ isDeleteAllowed }\n                  title={ isDeleteAllowed ? __('Can not delete - address is set as default.') : 'Delete this address' }\n                >\n                    { __('Delete') }\n                </button>\n            </>\n        );\n    }\n\n    render() {\n        const { countries, mix } = this.props;\n\n        return (\n            <div block=\"MyAccountAddressTable\" mix={ mix }>\n                <Loader isLoading={ !countries.length } />\n                { this.renderTable() }\n                { this.renderActions() }\n            </div>\n        );\n    }\n}\n\nexport default MyAccountAddressTable;\n"]},"metadata":{},"sourceType":"module"}