{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/ProductDownloadableLinks/ProductDownloadableLinks.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport ExpandableContent from \"/home/arturs/scandiweb/extension/src/component/ExpandableContent\";\nimport Field from \"/home/arturs/scandiweb/extension/src/component/Field\";\nimport Link from \"/home/arturs/scandiweb/extension/src/component/Link\";\nimport { formatPrice } from \"/home/arturs/scandiweb/extension/src/util/Price\";\nimport \"./ProductDownloadableLinks.style.scss\";\n/** #namespace Component/ProductDownloadableLinks/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const ProductDownloadableLinks = Mosaic.middleware((_temp = _class = class ProductDownloadableLinks_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.renderLink = function (link) {\n      const {\n        id\n      } = link;\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"ProductDownloadableLink\",\n        key: id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }, _this.renderCheckBox(link), /*#__PURE__*/_checkBEM(React, \"span\", {\n        block: \"ProductDownloadableLink\",\n        elem: \"SampleLabel\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, _this.renderLabel(link)));\n    };\n  }\n\n  getLabel(link) {\n    const {\n      title,\n      price\n    } = link;\n    const {\n      isRequired\n    } = this.props;\n\n    if (!isRequired) {\n      return /*#__PURE__*/_checkBEM(React, \"span\", {\n        block: \"ProductDownloadableLink\",\n        elem: \"SampleTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }, title);\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"span\", {\n      block: \"ProductDownloadableLink\",\n      elem: \"SampleTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, title, `(+${formatPrice(price)})`);\n  }\n\n  renderLabel(link) {\n    const {\n      isOpenInNewTab\n    } = this.props;\n    const {\n      sample_url\n    } = link;\n\n    if (!sample_url) {\n      return this.getLabel(link);\n    }\n\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, this.getLabel(link), /*#__PURE__*/_checkBEM(React, Link, {\n      to: sample_url,\n      isOpenInNewTab: isOpenInNewTab,\n      block: \"ProductDownloadableLink\",\n      elem: \"SampleLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, __('Sample')));\n  }\n\n  renderCheckBox(link) {\n    const {\n      setSelectedCheckboxValues,\n      isRequired\n    } = this.props;\n    const {\n      id\n    } = link;\n\n    if (!isRequired) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, Field, {\n      type: \"checkbox\",\n      key: id,\n      id: `link-${id}`,\n      name: `link-${id}`,\n      value: id,\n      onChange: setSelectedCheckboxValues,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderRequired(isRequired) {\n    const {\n      selectedLinks\n    } = this.props;\n\n    if (isRequired !== true || selectedLinks.length > 0) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"ProductDownloadableLink\",\n      elem: \"Required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, __('This field is required!'));\n  }\n\n  renderLinks() {\n    const {\n      links,\n      isRequired\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, links.map(this.renderLink), this.renderRequired(isRequired));\n  }\n\n  renderTitle() {\n    const {\n      title\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"h3\", {\n      block: \"ProductDownloadableLinks\",\n      elem: \"Title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, title);\n  }\n\n  renderContent() {\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, this.renderTitle(), this.renderLinks());\n  }\n\n  renderPlaceholder() {\n    const {\n      isLoading\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"ProductDownloadableLinks\",\n      mods: {\n        isLoading,\n        isPlaceholder: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    });\n  }\n\n  render() {\n    const {\n      isLoading,\n      title\n    } = this.props;\n\n    if (isLoading) {\n      return this.renderPlaceholder();\n    }\n\n    return /*#__PURE__*/_checkBEM(React, ExpandableContent, {\n      block: \"ProductDownloadableLinks\",\n      heading: title,\n      mix: {\n        block: 'ProductDownloadableLinks'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, this.renderContent());\n  }\n\n}, _class.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  isRequired: PropTypes.bool.isRequired,\n  links: PropTypes.array,\n  title: PropTypes.string.isRequired,\n  setSelectedCheckboxValues: PropTypes.func.isRequired,\n  isOpenInNewTab: PropTypes.bool.isRequired,\n  selectedLinks: PropTypes.array\n}, _class.defaultProps = {\n  links: [],\n  selectedLinks: []\n}, _temp), \"Component/ProductDownloadableLinks/Component\");\nexport default ProductDownloadableLinks;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/ProductDownloadableLinks/ProductDownloadableLinks.component.js"],"names":["PropTypes","PureComponent","ExpandableContent","Field","Link","formatPrice","renderLink","link","id","renderCheckBox","renderLabel","getLabel","title","price","isRequired","props","isOpenInNewTab","sample_url","__","setSelectedCheckboxValues","renderRequired","selectedLinks","length","renderLinks","links","map","renderTitle","renderContent","renderPlaceholder","isLoading","isPlaceholder","render","block","propTypes","bool","array","string","func","defaultProps","ProductDownloadableLinks"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Field from 'Component/Field';\nimport Link from 'Component/Link';\nimport { formatPrice } from 'Util/Price';\n\nimport './ProductDownloadableLinks.style.scss';\n\n/** @namespace Component/ProductDownloadableLinks/Component */\nexport class ProductDownloadableLinks extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        isRequired: PropTypes.bool.isRequired,\n        links: PropTypes.array,\n        title: PropTypes.string.isRequired,\n        setSelectedCheckboxValues: PropTypes.func.isRequired,\n        isOpenInNewTab: PropTypes.bool.isRequired,\n        selectedLinks: PropTypes.array\n    };\n\n    static defaultProps = {\n        links: [],\n        selectedLinks: []\n    };\n\n    getLabel(link) {\n        const { title, price } = link;\n        const { isRequired } = this.props;\n\n        if (!isRequired) {\n            return (\n            <span block=\"ProductDownloadableLink\" elem=\"SampleTitle\">\n                { title }\n            </span>\n            );\n        }\n\n        return (\n            <span block=\"ProductDownloadableLink\" elem=\"SampleTitle\">\n                { title }\n                { `(+${ formatPrice(price) })` }\n            </span>\n        );\n    }\n\n    renderLabel(link) {\n        const { isOpenInNewTab } = this.props;\n        const { sample_url } = link;\n\n        if (!sample_url) {\n            return this.getLabel(link);\n        }\n\n        return (\n            <>\n                { this.getLabel(link) }\n                <Link\n                  to={ sample_url }\n                  isOpenInNewTab={ isOpenInNewTab }\n                  block=\"ProductDownloadableLink\"\n                  elem=\"SampleLink\"\n                >\n                    { __('Sample') }\n                </Link>\n            </>\n        );\n    }\n\n    renderCheckBox(link) {\n        const { setSelectedCheckboxValues, isRequired } = this.props;\n        const { id } = link;\n\n        if (!isRequired) {\n            return null;\n        }\n\n        return (\n            <Field\n              type=\"checkbox\"\n              key={ id }\n              id={ `link-${ id }` }\n              name={ `link-${ id }` }\n              value={ id }\n              onChange={ setSelectedCheckboxValues }\n            />\n        );\n    }\n\n    renderLink = (link) => {\n        const { id } = link;\n\n        return (\n            <div block=\"ProductDownloadableLink\" key={ id }>\n                { this.renderCheckBox(link) }\n                <span block=\"ProductDownloadableLink\" elem=\"SampleLabel\">\n                    { this.renderLabel(link) }\n                </span>\n            </div>\n        );\n    };\n\n    renderRequired(isRequired) {\n        const { selectedLinks } = this.props;\n\n        if (isRequired !== true || selectedLinks.length > 0) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"ProductDownloadableLink\"\n              elem=\"Required\"\n            >\n                { __('This field is required!') }\n            </div>\n        );\n    }\n\n    renderLinks() {\n        const { links, isRequired } = this.props;\n        return (\n            <>\n                { links.map(this.renderLink) }\n                { this.renderRequired(isRequired) }\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { title } = this.props;\n\n        return (\n            <h3 block=\"ProductDownloadableLinks\" elem=\"Title\">\n                { title }\n            </h3>\n        );\n    }\n\n    renderContent() {\n        return (\n            <>\n            { this.renderTitle() }\n            { this.renderLinks() }\n            </>\n        );\n    }\n\n    renderPlaceholder() {\n        const { isLoading } = this.props;\n\n        return (\n            <div\n              block=\"ProductDownloadableLinks\"\n              mods={ { isLoading, isPlaceholder: true } }\n            />\n        );\n    }\n\n    render() {\n        const { isLoading, title } = this.props;\n\n        if (isLoading) {\n            return this.renderPlaceholder();\n        }\n\n        return (\n            <ExpandableContent\n              block=\"ProductDownloadableLinks\"\n              heading={ title }\n              mix={ { block: 'ProductDownloadableLinks' } }\n            >\n                { this.renderContent() }\n            </ExpandableContent>\n        );\n    }\n}\n\nexport default ProductDownloadableLinks;\n"]},"metadata":{},"sourceType":"module"}