{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CartItem/CartItem.component.js\";\n\n/* eslint-disable react/jsx-one-expression-per-line */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport CartItemPrice from \"/home/arturs/scandiweb/scandipwa/src/component/CartItemPrice\";\nimport Field from \"/home/arturs/scandiweb/scandipwa/src/component/Field\";\nimport Image from \"/home/arturs/scandiweb/scandipwa/src/component/Image\";\nimport Link from \"/home/arturs/scandiweb/scandipwa/src/component/Link\";\nimport Loader from \"/home/arturs/scandiweb/scandipwa/src/component/Loader\";\nimport { DeviceType } from \"/home/arturs/scandiweb/scandipwa/src/type/Device\";\nimport { CartItemType } from \"/home/arturs/scandiweb/scandipwa/src/type/MiniCart\";\nimport \"./CartItem.style\";\n/**\n * Cart and CartOverlay item\n * @class CartItem\n * #namespace Component/CartItem/Component\n */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const CartItem = Mosaic.middleware((_temp = _class = class CartItem_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.renderProductConfigurationOption = function ([key, attribute]) {\n      const {\n        item: {\n          product: {\n            configurable_options\n          }\n        }\n      } = _this.props;\n      const {\n        attribute_code,\n        attribute_value\n      } = attribute;\n\n      if (!Object.keys(configurable_options).includes(key) || attribute_value === null) {\n        return null;\n      }\n\n      const {\n        [attribute_code]: {\n          // configurable option attribute\n          attribute_options: {\n            [attribute_value]: {\n              // attribute option value label\n              label\n            }\n          }\n        }\n      } = configurable_options;\n      return /*#__PURE__*/_checkBEM(React, \"li\", {\n        key: attribute_code,\n        \"aria-label\": attribute_code,\n        block: \"CartItem\",\n        elem: \"Option\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, label);\n    };\n\n    this.renderProductOptionValue = function (optionValue, i, array) {\n      const {\n        label,\n        value\n      } = optionValue;\n      const isNextAvailable = Boolean(array[i + 1]);\n      return /*#__PURE__*/_checkBEM(React, \"span\", {\n        block: \"CartItem\",\n        elem: \"ItemOptionValue\",\n        key: label,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }\n      }, label || value, isNextAvailable && ', ');\n    };\n\n    this.renderProductOptionContent = function (option) {\n      const {\n        label,\n        values,\n        id\n      } = option;\n\n      if (!values) {\n        return /*#__PURE__*/_checkBEM(React, \"div\", {\n          block: \"CartItem\",\n          elem: \"ItemOptionLabel\",\n          key: `label-${id}`,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }\n        }, label);\n      }\n\n      return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"CartItem\",\n        elem: \"ItemOptionLabel\",\n        key: `label-${id}`,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 17\n        }\n      }, `${label}:`), /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"CartItem\",\n        elem: \"ItemOptionValues\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }\n      }, values.map(_this.renderProductOptionValue)));\n    };\n\n    this.renderProductOption = function (option) {\n      const {\n        id\n      } = option;\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"CartItem\",\n        elem: \"ItemOption\",\n        key: id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }\n      }, _this.renderProductOptionContent(option));\n    };\n  }\n\n  renderProductConfigurations() {\n    const {\n      item: {\n        product: {\n          configurable_options,\n          variants\n        }\n      },\n      isLikeTable,\n      getCurrentProduct\n    } = this.props;\n\n    if (!variants || !configurable_options) {\n      return null;\n    }\n\n    const {\n      attributes = []\n    } = getCurrentProduct() || {};\n\n    if (!Object.entries(attributes).length) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"ul\", {\n      block: \"CartItem\",\n      elem: \"Options\",\n      mods: {\n        isLikeTable\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, Object.entries(attributes).map(this.renderProductConfigurationOption));\n  }\n\n  renderWrapperContent() {\n    return /*#__PURE__*/_checkBEM(React, \"figure\", {\n      block: \"CartItem\",\n      elem: \"Wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, this.renderImage(), this.renderContent());\n  }\n\n  renderWrapper() {\n    const {\n      linkTo,\n      isProductInStock,\n      device\n    } = this.props; // TODO: implement shared-transition here?\n\n    if (!isProductInStock || Object.keys(linkTo).length === 0) {\n      // If product is out of stock, or link is not set\n      return /*#__PURE__*/_checkBEM(React, \"span\", {\n        block: \"CartItem\",\n        elem: \"Link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, this.renderWrapperContent());\n    }\n\n    if (device.isMobile) {\n      return this.renderWrapperContent();\n    }\n\n    return /*#__PURE__*/_checkBEM(React, Link, {\n      to: linkTo,\n      block: \"CartItem\",\n      elem: \"Link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, this.renderWrapperContent());\n  }\n\n  renderProductOptions(itemOptions = []) {\n    const {\n      isLikeTable\n    } = this.props;\n\n    if (!itemOptions.length) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartItem\",\n      elem: \"ItemOptionsWrapper\",\n      mods: {\n        isLikeTable\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, itemOptions.map(this.renderProductOption));\n  }\n\n  renderProductLinks(itemOptions = []) {\n    const {\n      isLikeTable\n    } = this.props;\n\n    if (!itemOptions.length) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartItem\",\n      elem: \"ItemLinksWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"span\", {\n      block: \"CartItem\",\n      elem: \"ItemLinks\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, __('Links:')), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartItem\",\n      elem: \"ItemOptionsWrapper\",\n      mods: {\n        isLikeTable\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }, itemOptions.map(this.renderProductOption)));\n  }\n\n  renderProductName() {\n    const {\n      item: {\n        product: {\n          name\n        }\n      }\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"p\", {\n      block: \"CartItem\",\n      elem: \"Heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 13\n      }\n    }, name);\n  }\n\n  renderProductPrice() {\n    const {\n      isLikeTable,\n      currency_code,\n      item: {\n        row_total,\n        row_total_incl_tax\n      }\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, CartItemPrice, {\n      row_total: row_total,\n      row_total_incl_tax: row_total_incl_tax,\n      currency_code: currency_code,\n      mix: {\n        block: 'CartItem',\n        elem: 'Price',\n        mods: {\n          isLikeTable\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderOutOfStockMessage() {\n    const {\n      isProductInStock\n    } = this.props;\n\n    if (isProductInStock) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"p\", {\n      block: \"CartItem\",\n      elem: \"OutOfStock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 13\n      }\n    }, __('Product is out of stock'));\n  }\n\n  renderContent() {\n    const {\n      isLikeTable,\n      item: {\n        customizable_options,\n        bundle_options,\n        downloadable_links\n      } = {}\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"figcaption\", {\n      block: \"CartItem\",\n      elem: \"Content\",\n      mods: {\n        isLikeTable\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }\n    }, this.renderOutOfStockMessage(), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartItem\",\n      elem: \"HeadingWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 21\n      }\n    }, this.renderProductName(), this.renderDeleteButton(true)), this.renderProductOptions(customizable_options), this.renderProductOptions(bundle_options), this.renderProductLinks(downloadable_links), this.renderProductConfigurations(), this.renderQuantityChangeField(true), this.renderProductPrice());\n  }\n\n  renderQuantityChangeField(isVisibleOnMobile = false) {\n    const {\n      item: {\n        qty\n      },\n      minSaleQuantity,\n      maxSaleQuantity,\n      handleChangeQuantity,\n      isProductInStock,\n      device\n    } = this.props;\n\n    if (!isProductInStock) {\n      return null;\n    }\n\n    if (!isVisibleOnMobile && device.isMobile) {\n      return null;\n    }\n\n    if (isVisibleOnMobile && !device.isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartItem\",\n      elem: \"QuantityWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"span\", {\n      block: \"CartItem\",\n      elem: \"QuantityText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 17\n      }\n    }, __('Qty:')), /*#__PURE__*/_checkBEM(React, Field, {\n      id: \"item_qty\",\n      name: \"item_qty\",\n      type: \"number\",\n      isControlled: true,\n      min: minSaleQuantity,\n      max: maxSaleQuantity,\n      mix: {\n        block: 'CartItem',\n        elem: 'Qty'\n      },\n      value: qty,\n      onChange: handleChangeQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  renderActions() {\n    const {\n      isEditing,\n      isLikeTable\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartItem\",\n      elem: \"Actions\",\n      mods: {\n        isEditing,\n        isLikeTable\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 13\n      }\n    }, this.renderDeleteButton(), this.renderQuantityChangeField());\n  }\n\n  renderDeleteButton(isVisibleOnMobile = false) {\n    const {\n      handleRemoveItem,\n      device\n    } = this.props;\n\n    if (!isVisibleOnMobile && device.isMobile) {\n      return null;\n    }\n\n    if (isVisibleOnMobile && !device.isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"CartItem\",\n      id: \"RemoveItem\",\n      name: \"RemoveItem\",\n      elem: \"Delete\",\n      \"aria-label\": \"Remove item from cart\",\n      onClick: handleRemoveItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"span\", {\n      block: \"CartItem\",\n      elem: \"DeleteButtonText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 17\n      }\n    }, __('Delete')));\n  }\n\n  renderImageElement() {\n    const {\n      item: {\n        product: {\n          name\n        }\n      },\n      thumbnail,\n      isProductInStock\n    } = this.props;\n    const isNotAvailable = !isProductInStock;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, Image, {\n      src: thumbnail,\n      mix: {\n        block: 'CartItem',\n        elem: 'Picture',\n        mods: {\n          isNotAvailable\n        }\n      },\n      ratio: \"custom\",\n      alt: `Product ${name} thumbnail.`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/_checkBEM(React, \"img\", {\n      style: {\n        display: 'none'\n      },\n      alt: name,\n      src: thumbnail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  renderImage() {\n    const {\n      linkTo,\n      device\n    } = this.props;\n\n    if (device.isMobile) {\n      return /*#__PURE__*/_checkBEM(React, Link, {\n        to: linkTo,\n        block: \"CartItem\",\n        elem: \"Link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 17\n        }\n      }, this.renderImageElement());\n    }\n\n    return this.renderImageElement();\n  }\n\n  render() {\n    const {\n      isLoading,\n      isEditing\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartItem\",\n      mods: {\n        isEditing\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, Loader, {\n      isLoading: isLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }\n    }), this.renderWrapper(), this.renderActions());\n  }\n\n}, _class.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  item: CartItemType.isRequired,\n  currency_code: PropTypes.string.isRequired,\n  isEditing: PropTypes.bool,\n  isLikeTable: PropTypes.bool,\n  handleRemoveItem: PropTypes.func.isRequired,\n  minSaleQuantity: PropTypes.number.isRequired,\n  maxSaleQuantity: PropTypes.number.isRequired,\n  handleChangeQuantity: PropTypes.func.isRequired,\n  getCurrentProduct: PropTypes.func.isRequired,\n  linkTo: PropTypes.oneOfType([PropTypes.shape({\n    pathname: PropTypes.string,\n    search: PropTypes.string\n  }), PropTypes.string]).isRequired,\n  thumbnail: PropTypes.string.isRequired,\n  showNotification: PropTypes.func.isRequired,\n  getProductVariant: PropTypes.func.isRequired,\n  isProductInStock: PropTypes.bool.isRequired,\n  device: DeviceType.isRequired\n}, _class.defaultProps = {\n  isEditing: false,\n  isLikeTable: false\n}, _temp), \"Component/CartItem/Component\");\nexport default CartItem;","map":{"version":3,"sources":["/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CartItem/CartItem.component.js"],"names":["PropTypes","PureComponent","CartItemPrice","Field","Image","Link","Loader","DeviceType","CartItemType","renderProductConfigurationOption","key","attribute","item","product","configurable_options","props","attribute_code","attribute_value","Object","keys","includes","attribute_options","label","renderProductOptionValue","optionValue","i","array","value","isNextAvailable","Boolean","renderProductOptionContent","option","values","id","map","renderProductOption","renderProductConfigurations","variants","isLikeTable","getCurrentProduct","attributes","entries","length","renderWrapperContent","renderImage","renderContent","renderWrapper","linkTo","isProductInStock","device","isMobile","renderProductOptions","itemOptions","renderProductLinks","__","renderProductName","name","renderProductPrice","currency_code","row_total","row_total_incl_tax","block","elem","mods","renderOutOfStockMessage","customizable_options","bundle_options","downloadable_links","renderDeleteButton","renderQuantityChangeField","isVisibleOnMobile","qty","minSaleQuantity","maxSaleQuantity","handleChangeQuantity","renderActions","isEditing","handleRemoveItem","renderImageElement","thumbnail","isNotAvailable","display","render","isLoading","propTypes","bool","isRequired","string","func","number","oneOfType","shape","pathname","search","showNotification","getProductVariant","defaultProps","CartItem"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-one-expression-per-line */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CartItemPrice from 'Component/CartItemPrice';\nimport Field from 'Component/Field';\nimport Image from 'Component/Image';\nimport Link from 'Component/Link';\nimport Loader from 'Component/Loader';\nimport { DeviceType } from 'Type/Device';\nimport { CartItemType } from 'Type/MiniCart';\n\nimport './CartItem.style';\n\n/**\n * Cart and CartOverlay item\n * @class CartItem\n * @namespace Component/CartItem/Component\n */\nexport class CartItem extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        item: CartItemType.isRequired,\n        currency_code: PropTypes.string.isRequired,\n        isEditing: PropTypes.bool,\n        isLikeTable: PropTypes.bool,\n        handleRemoveItem: PropTypes.func.isRequired,\n        minSaleQuantity: PropTypes.number.isRequired,\n        maxSaleQuantity: PropTypes.number.isRequired,\n        handleChangeQuantity: PropTypes.func.isRequired,\n        getCurrentProduct: PropTypes.func.isRequired,\n        linkTo: PropTypes.oneOfType([\n            PropTypes.shape({\n                pathname: PropTypes.string,\n                search: PropTypes.string\n            }),\n            PropTypes.string\n        ]).isRequired,\n        thumbnail: PropTypes.string.isRequired,\n        showNotification: PropTypes.func.isRequired,\n        getProductVariant: PropTypes.func.isRequired,\n        isProductInStock: PropTypes.bool.isRequired,\n        device: DeviceType.isRequired\n    };\n\n    static defaultProps = {\n        isEditing: false,\n        isLikeTable: false\n    };\n\n    renderProductConfigurationOption = ([key, attribute]) => {\n        const {\n            item: {\n                product: {\n                    configurable_options\n                }\n            }\n        } = this.props;\n\n        const { attribute_code, attribute_value } = attribute;\n\n        if (!Object.keys(configurable_options).includes(key) || attribute_value === null) {\n            return null;\n        }\n\n        const {\n            [attribute_code]: { // configurable option attribute\n                attribute_options: {\n                    [attribute_value]: { // attribute option value label\n                        label\n                    }\n                }\n            }\n        } = configurable_options;\n\n        return (\n            <li\n              key={ attribute_code }\n              aria-label={ attribute_code }\n              block=\"CartItem\"\n              elem=\"Option\"\n            >\n                { label }\n            </li>\n        );\n    };\n\n    renderProductConfigurations() {\n        const {\n            item: {\n                product: {\n                    configurable_options,\n                    variants\n                }\n            },\n            isLikeTable,\n            getCurrentProduct\n        } = this.props;\n\n        if (!variants || !configurable_options) {\n            return null;\n        }\n\n        const { attributes = [] } = getCurrentProduct() || {};\n\n        if (!Object.entries(attributes).length) {\n            return null;\n        }\n\n        return (\n            <ul\n              block=\"CartItem\"\n              elem=\"Options\"\n              mods={ { isLikeTable } }\n            >\n                { Object.entries(attributes).map(this.renderProductConfigurationOption) }\n            </ul>\n        );\n    }\n\n    renderWrapperContent() {\n        return (\n            <figure block=\"CartItem\" elem=\"Wrapper\">\n                { this.renderImage() }\n                { this.renderContent() }\n            </figure>\n        );\n    }\n\n    renderWrapper() {\n        const { linkTo, isProductInStock, device } = this.props;\n\n        // TODO: implement shared-transition here?\n\n        if (!isProductInStock || Object.keys(linkTo).length === 0) {\n            // If product is out of stock, or link is not set\n            return (\n                <span block=\"CartItem\" elem=\"Link\">\n                    { this.renderWrapperContent() }\n                </span>\n            );\n        }\n\n        if (device.isMobile) {\n            return (\n                this.renderWrapperContent()\n            );\n        }\n\n        return (\n            <Link to={ linkTo } block=\"CartItem\" elem=\"Link\">\n                { this.renderWrapperContent() }\n            </Link>\n        );\n    }\n\n    renderProductOptionValue = (optionValue, i, array) => {\n        const { label, value } = optionValue;\n        const isNextAvailable = Boolean(array[i + 1]);\n\n        return (\n            <span\n              block=\"CartItem\"\n              elem=\"ItemOptionValue\"\n              key={ label }\n            >\n                { label || value }{ isNextAvailable && ', ' }\n            </span>\n        );\n    };\n\n    renderProductOptionContent = (option) => {\n        const { label, values, id } = option;\n\n        if (!values) {\n            return (\n                <div\n                  block=\"CartItem\"\n                  elem=\"ItemOptionLabel\"\n                  key={ `label-${ id }` }\n                >\n                    { label }\n                </div>\n            );\n        }\n\n        return (\n            <>\n                <div\n                  block=\"CartItem\"\n                  elem=\"ItemOptionLabel\"\n                  key={ `label-${ id }` }\n                >\n                    { `${ label }:` }\n                </div>\n                <div block=\"CartItem\" elem=\"ItemOptionValues\">\n                    { values.map(this.renderProductOptionValue) }\n                </div>\n            </>\n        );\n    };\n\n    renderProductOption = (option) => {\n        const { id } = option;\n\n        return (\n            <div\n              block=\"CartItem\"\n              elem=\"ItemOption\"\n              key={ id }\n            >\n                  { this.renderProductOptionContent(option) }\n            </div>\n        );\n    };\n\n    renderProductOptions(itemOptions = []) {\n        const { isLikeTable } = this.props;\n\n        if (!itemOptions.length) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"CartItem\"\n              elem=\"ItemOptionsWrapper\"\n              mods={ { isLikeTable } }\n            >\n                { itemOptions.map(this.renderProductOption) }\n            </div>\n        );\n    }\n\n    renderProductLinks(itemOptions = []) {\n        const { isLikeTable } = this.props;\n\n        if (!itemOptions.length) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"CartItem\"\n              elem=\"ItemLinksWrapper\"\n            >\n                <span\n                  block=\"CartItem\"\n                  elem=\"ItemLinks\"\n                >\n                    { __('Links:') }\n                </span>\n                <div\n                  block=\"CartItem\"\n                  elem=\"ItemOptionsWrapper\"\n                  mods={ { isLikeTable } }\n                >\n                    { itemOptions.map(this.renderProductOption) }\n                </div>\n            </div>\n        );\n    }\n\n    renderProductName() {\n        const {\n            item: {\n                product: {\n                    name\n                }\n            }\n        } = this.props;\n\n        return (\n            <p\n              block=\"CartItem\"\n              elem=\"Heading\"\n            >\n                { name }\n            </p>\n        );\n    }\n\n    renderProductPrice() {\n        const {\n            isLikeTable,\n            currency_code,\n            item: {\n                row_total,\n                row_total_incl_tax\n            }\n        } = this.props;\n\n        return (\n            <CartItemPrice\n              row_total={ row_total }\n              row_total_incl_tax={ row_total_incl_tax }\n              currency_code={ currency_code }\n              mix={ {\n                  block: 'CartItem',\n                  elem: 'Price',\n                  mods: { isLikeTable }\n              } }\n            />\n        );\n    }\n\n    renderOutOfStockMessage() {\n        const { isProductInStock } = this.props;\n\n        if (isProductInStock) {\n            return null;\n        }\n\n        return (\n            <p block=\"CartItem\" elem=\"OutOfStock\">\n                { __('Product is out of stock') }\n            </p>\n        );\n    }\n\n    renderContent() {\n        const {\n            isLikeTable,\n            item: {\n                customizable_options,\n                bundle_options,\n                downloadable_links\n            } = {}\n        } = this.props;\n\n        return (\n                <figcaption\n                  block=\"CartItem\"\n                  elem=\"Content\"\n                  mods={ { isLikeTable } }\n                >\n                    { this.renderOutOfStockMessage() }\n                    <div block=\"CartItem\" elem=\"HeadingWrapper\">\n                        { this.renderProductName() }\n                        { this.renderDeleteButton(true) }\n                    </div>\n                    { this.renderProductOptions(customizable_options) }\n                    { this.renderProductOptions(bundle_options) }\n                    { this.renderProductLinks(downloadable_links) }\n                    { this.renderProductConfigurations() }\n                    { this.renderQuantityChangeField(true) }\n                    { this.renderProductPrice() }\n                </figcaption>\n        );\n    }\n\n    renderQuantityChangeField(isVisibleOnMobile = false) {\n        const {\n            item: { qty },\n            minSaleQuantity,\n            maxSaleQuantity,\n            handleChangeQuantity,\n            isProductInStock,\n            device\n        } = this.props;\n\n        if (!isProductInStock) {\n            return null;\n        }\n\n        if (!isVisibleOnMobile && device.isMobile) {\n            return null;\n        }\n\n        if (isVisibleOnMobile && !device.isMobile) {\n            return null;\n        }\n\n        return (\n            <div block=\"CartItem\" elem=\"QuantityWrapper\">\n                <span block=\"CartItem\" elem=\"QuantityText\">{ __('Qty:') }</span>\n                <Field\n                  id=\"item_qty\"\n                  name=\"item_qty\"\n                  type=\"number\"\n                  isControlled\n                  min={ minSaleQuantity }\n                  max={ maxSaleQuantity }\n                  mix={ { block: 'CartItem', elem: 'Qty' } }\n                  value={ qty }\n                  onChange={ handleChangeQuantity }\n                />\n            </div>\n        );\n    }\n\n    renderActions() {\n        const {\n            isEditing,\n            isLikeTable\n        } = this.props;\n\n        return (\n            <div\n              block=\"CartItem\"\n              elem=\"Actions\"\n              mods={ { isEditing, isLikeTable } }\n            >\n                { this.renderDeleteButton() }\n                { this.renderQuantityChangeField() }\n            </div>\n        );\n    }\n\n    renderDeleteButton(isVisibleOnMobile = false) {\n        const { handleRemoveItem, device } = this.props;\n\n        if (!isVisibleOnMobile && device.isMobile) {\n            return null;\n        }\n\n        if (isVisibleOnMobile && !device.isMobile) {\n            return null;\n        }\n\n        return (\n            <button\n              block=\"CartItem\"\n              id=\"RemoveItem\"\n              name=\"RemoveItem\"\n              elem=\"Delete\"\n              aria-label=\"Remove item from cart\"\n              onClick={ handleRemoveItem }\n            >\n                <span block=\"CartItem\" elem=\"DeleteButtonText\">{ __('Delete') }</span>\n            </button>\n        );\n    }\n\n    renderImageElement() {\n        const { item: { product: { name } }, thumbnail, isProductInStock } = this.props;\n        const isNotAvailable = !isProductInStock;\n        return (\n            <>\n            <Image\n              src={ thumbnail }\n              mix={ {\n                  block: 'CartItem',\n                  elem: 'Picture',\n                  mods: {\n                      isNotAvailable\n                  }\n              } }\n              ratio=\"custom\"\n              alt={ `Product ${name} thumbnail.` }\n            />\n                <img\n                  style={ { display: 'none' } }\n                  alt={ name }\n                  src={ thumbnail }\n                />\n            </>\n        );\n    }\n\n    renderImage() {\n        const { linkTo, device } = this.props;\n\n        if (device.isMobile) {\n            return (\n                <Link to={ linkTo } block=\"CartItem\" elem=\"Link\">\n                    { this.renderImageElement() }\n                </Link>\n            );\n        }\n\n        return this.renderImageElement();\n    }\n\n    render() {\n        const { isLoading, isEditing } = this.props;\n\n        return (\n            <div block=\"CartItem\" mods={ { isEditing } }>\n                <Loader isLoading={ isLoading } />\n                { this.renderWrapper() }\n                { this.renderActions() }\n            </div>\n        );\n    }\n}\n\nexport default CartItem;\n"]},"metadata":{},"sourceType":"module"}