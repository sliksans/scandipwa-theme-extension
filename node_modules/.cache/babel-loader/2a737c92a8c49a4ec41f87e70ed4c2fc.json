{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CartCoupon/CartCoupon.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport Field from \"/home/arturs/scandiweb/scandipwa/src/component/Field\";\nimport Loader from \"/home/arturs/scandiweb/scandipwa/src/component/Loader\";\nimport \"./CartCoupon.style\";\n/** #namespace Component/CartCoupon/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const CartCoupon = Mosaic.middleware((_temp = _class = class CartCoupon_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n    this.state = {\n      enteredCouponCode: ''\n    };\n\n    this.handleCouponCodeChange = function (enteredCouponCode) {\n      _this.setState({\n        enteredCouponCode\n      });\n    };\n\n    this.handleApplyCoupon = function () {\n      const {\n        handleApplyCouponToCart\n      } = _this.props;\n      const {\n        enteredCouponCode\n      } = _this.state;\n      handleApplyCouponToCart(enteredCouponCode);\n    };\n\n    this.handleRemoveCoupon = function () {\n      const {\n        handleRemoveCouponFromCart\n      } = _this.props;\n      handleRemoveCouponFromCart(); // We need to reset input field. If we do it in applyCouponCode,\n      // then it will disappear if code is incorrect. We want to avoid it\n\n      _this.setState({\n        enteredCouponCode: ''\n      });\n    };\n\n    this.handleFormSubmit = function (e) {\n      const {\n        couponCode\n      } = _this.props;\n      e.preventDefault();\n\n      if (couponCode) {\n        _this.handleRemoveCoupon();\n\n        return;\n      }\n\n      _this.handleApplyCoupon();\n    };\n  }\n\n  renderApplyCoupon() {\n    const {\n      enteredCouponCode\n    } = this.state;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, Field, {\n      type: \"text\",\n      id: \"couponCode\",\n      name: \"couponCode\",\n      value: enteredCouponCode,\n      placeholder: __('Coupon Code'),\n      onChange: this.handleCouponCodeChange,\n      mix: {\n        block: 'CartCoupon',\n        elem: 'Input'\n      },\n      \"aria-label\": __('Coupon Code'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"CartCoupon\",\n      elem: \"Button\",\n      type: \"button\",\n      mix: {\n        block: 'Button'\n      },\n      disabled: !enteredCouponCode,\n      onClick: this.handleApplyCoupon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, __('Apply Coupon')));\n  }\n\n  renderRemoveCoupon() {\n    const {\n      couponCode\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"p\", {\n      block: \"CartCoupon\",\n      elem: \"Message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, __('Applied coupon code: '), /*#__PURE__*/_checkBEM(React, \"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, couponCode.toUpperCase())), /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"CartCoupon\",\n      elem: \"Button\",\n      type: \"button\",\n      mix: {\n        block: 'Button'\n      },\n      onClick: this.handleRemoveCoupon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, __('Remove Coupon')));\n  }\n\n  renderTitle() {\n    const {\n      title\n    } = this.props;\n\n    if (!title) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"h3\", {\n      block: \"CartCoupon\",\n      elem: \"Title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, title);\n  }\n\n  render() {\n    const {\n      isLoading,\n      couponCode,\n      mix\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"form\", {\n      block: \"CartCoupon\",\n      onSubmit: this.handleFormSubmit,\n      mix: mix,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, Loader, {\n      isLoading: isLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }), this.renderTitle(), couponCode ? this.renderRemoveCoupon() : this.renderApplyCoupon());\n  }\n\n}, _class.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  couponCode: PropTypes.string,\n  handleApplyCouponToCart: PropTypes.func.isRequired,\n  handleRemoveCouponFromCart: PropTypes.func.isRequired,\n  mix: PropTypes.object,\n  title: PropTypes.string\n}, _class.defaultProps = {\n  couponCode: '',\n  mix: {},\n  title: ''\n}, _temp), \"Component/CartCoupon/Component\");\nexport default CartCoupon;","map":{"version":3,"sources":["/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CartCoupon/CartCoupon.component.js"],"names":["PropTypes","PureComponent","Field","Loader","state","enteredCouponCode","handleCouponCodeChange","setState","handleApplyCoupon","handleApplyCouponToCart","props","handleRemoveCoupon","handleRemoveCouponFromCart","handleFormSubmit","e","couponCode","preventDefault","renderApplyCoupon","__","block","elem","renderRemoveCoupon","toUpperCase","renderTitle","title","render","isLoading","mix","propTypes","bool","isRequired","string","func","object","defaultProps","CartCoupon"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport Loader from 'Component/Loader';\n\nimport './CartCoupon.style';\n\n/** @namespace Component/CartCoupon/Component */\nexport class CartCoupon extends PureComponent {\n    static propTypes = {\n        isLoading: PropTypes.bool.isRequired,\n        couponCode: PropTypes.string,\n        handleApplyCouponToCart: PropTypes.func.isRequired,\n        handleRemoveCouponFromCart: PropTypes.func.isRequired,\n        mix: PropTypes.object,\n        title: PropTypes.string\n    };\n\n    static defaultProps = {\n        couponCode: '',\n        mix: {},\n        title: ''\n    };\n\n    state = {\n        enteredCouponCode: ''\n    };\n\n    handleCouponCodeChange = (enteredCouponCode) => {\n        this.setState({\n            enteredCouponCode\n        });\n    };\n\n    handleApplyCoupon = () => {\n        const { handleApplyCouponToCart } = this.props;\n        const { enteredCouponCode } = this.state;\n\n        handleApplyCouponToCart(enteredCouponCode);\n    };\n\n    handleRemoveCoupon = () => {\n        const { handleRemoveCouponFromCart } = this.props;\n\n        handleRemoveCouponFromCart();\n\n        // We need to reset input field. If we do it in applyCouponCode,\n        // then it will disappear if code is incorrect. We want to avoid it\n        this.setState({\n            enteredCouponCode: ''\n        });\n    };\n\n    handleFormSubmit = (e) => {\n        const { couponCode } = this.props;\n        e.preventDefault();\n\n        if (couponCode) {\n            this.handleRemoveCoupon();\n            return;\n        }\n\n        this.handleApplyCoupon();\n    };\n\n    renderApplyCoupon() {\n        const { enteredCouponCode } = this.state;\n\n        return (\n            <>\n                <Field\n                  type=\"text\"\n                  id=\"couponCode\"\n                  name=\"couponCode\"\n                  value={ enteredCouponCode }\n                  placeholder={ __('Coupon Code') }\n                  onChange={ this.handleCouponCodeChange }\n                  mix={ { block: 'CartCoupon', elem: 'Input' } }\n                  aria-label={ __('Coupon Code') }\n                />\n                <button\n                  block=\"CartCoupon\"\n                  elem=\"Button\"\n                  type=\"button\"\n                  mix={ { block: 'Button' } }\n                  disabled={ !enteredCouponCode }\n                  onClick={ this.handleApplyCoupon }\n                >\n                    { __('Apply Coupon') }\n                </button>\n            </>\n        );\n    }\n\n    renderRemoveCoupon() {\n        const { couponCode } = this.props;\n\n        return (\n            <>\n                <p block=\"CartCoupon\" elem=\"Message\">\n                    { __('Applied coupon code: ') }\n                    <strong>{ couponCode.toUpperCase() }</strong>\n                </p>\n                <button\n                  block=\"CartCoupon\"\n                  elem=\"Button\"\n                  type=\"button\"\n                  mix={ { block: 'Button' } }\n                  onClick={ this.handleRemoveCoupon }\n                >\n                    { __('Remove Coupon') }\n                </button>\n            </>\n        );\n    }\n\n    renderTitle() {\n        const { title } = this.props;\n\n        if (!title) {\n            return null;\n        }\n\n        return (\n            <h3 block=\"CartCoupon\" elem=\"Title\">\n                { title }\n            </h3>\n        );\n    }\n\n    render() {\n        const { isLoading, couponCode, mix } = this.props;\n\n        return (\n            <form block=\"CartCoupon\" onSubmit={ this.handleFormSubmit } mix={ mix }>\n                <Loader isLoading={ isLoading } />\n                { this.renderTitle() }\n                { (couponCode\n                    ? this.renderRemoveCoupon()\n                    : this.renderApplyCoupon()\n                ) }\n            </form>\n        );\n    }\n}\n\nexport default CartCoupon;\n"]},"metadata":{},"sourceType":"module"}