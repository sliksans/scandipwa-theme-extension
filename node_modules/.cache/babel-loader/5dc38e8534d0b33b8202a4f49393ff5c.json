{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/CartCoupon/CartCoupon.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport CartCoupon from \"./CartCoupon.component\";\nexport const CartDispatcher = import(\n/* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n\"/home/arturs/scandiweb/extension/src/store/Cart/Cart.dispatcher\");\n/** #namespace Component/CartCoupon/Container/mapDispatchToProps */\n\nexport const mapDispatchToProps = Mosaic.middleware(function (dispatch) {\n  return {\n    applyCouponToCart: function (couponCode) {\n      return CartDispatcher.then(function ({\n        default: dispatcher\n      }) {\n        return dispatcher.applyCouponToCart(dispatch, couponCode);\n      });\n    },\n    removeCouponFromCart: function () {\n      return CartDispatcher.then(function ({\n        default: dispatcher\n      }) {\n        return dispatcher.removeCouponFromCart(dispatch);\n      });\n    }\n  };\n}, \"Component/CartCoupon/Container/mapDispatchToProps\");\n/** #namespace Component/CartCoupon/Container */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const CartCouponContainer = Mosaic.middleware((_temp = _class = class CartCouponContainer_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    super(...args);\n    this.containerFunctions = {\n      handleApplyCouponToCart: this.handleApplyCouponToCart.bind(this),\n      handleRemoveCouponFromCart: this.handleRemoveCouponFromCart.bind(this)\n    };\n    this.state = {\n      isLoading: false\n    };\n  }\n\n  handleApplyCouponToCart(couponCode) {\n    var _this = this;\n\n    const {\n      applyCouponToCart,\n      onCouponCodeUpdate\n    } = this.props;\n    this.setState({\n      isLoading: true\n    });\n    applyCouponToCart(couponCode).then(\n    /** #namespace Component/CartCoupon/Container/applyCouponToCartThen */\n    Mosaic.middleware(function () {\n      return onCouponCodeUpdate();\n    }, \"Component/CartCoupon/Container/applyCouponToCartThen\")).finally(\n    /** #namespace Component/CartCoupon/Container/applyCouponToCartFinally */\n    Mosaic.middleware(function () {\n      return _this.setState({\n        isLoading: false\n      });\n    }, \"Component/CartCoupon/Container/applyCouponToCartFinally\"));\n  }\n\n  handleRemoveCouponFromCart() {\n    var _this2 = this;\n\n    const {\n      removeCouponFromCart,\n      onCouponCodeUpdate\n    } = this.props;\n    this.setState({\n      isLoading: true\n    });\n    removeCouponFromCart().then(\n    /** #namespace Component/CartCoupon/Container/removeCouponFromCartThen */\n    Mosaic.middleware(function () {\n      return onCouponCodeUpdate();\n    }, \"Component/CartCoupon/Container/removeCouponFromCartThen\")).finally(\n    /** #namespace Component/CartCoupon/Container/removeCouponFromCartFinally */\n    Mosaic.middleware(function () {\n      return _this2.setState({\n        isLoading: false\n      });\n    }, \"Component/CartCoupon/Container/removeCouponFromCartFinally\"));\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, CartCoupon, Object.assign({}, this.props, this.state, this.containerFunctions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}, _class.propTypes = {\n  couponCode: PropTypes.string,\n  applyCouponToCart: PropTypes.func.isRequired,\n  removeCouponFromCart: PropTypes.func.isRequired,\n  onCouponCodeUpdate: PropTypes.func\n}, _class.defaultProps = {\n  couponCode: '',\n  onCouponCodeUpdate: function () {}\n}, _temp), \"Component/CartCoupon/Container\");\n/** #namespace Component/CartCoupon/Container/mapStateToProps */\n// eslint-disable-next-line no-unused-vars\n\nexport const mapStateToProps = Mosaic.middleware(function (state) {\n  return {};\n}, \"Component/CartCoupon/Container/mapStateToProps\");\nexport default connect(mapStateToProps, mapDispatchToProps)(CartCouponContainer);","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/CartCoupon/CartCoupon.container.js"],"names":["PropTypes","PureComponent","connect","CartCoupon","CartDispatcher","mapDispatchToProps","dispatch","applyCouponToCart","couponCode","then","default","dispatcher","removeCouponFromCart","containerFunctions","handleApplyCouponToCart","bind","handleRemoveCouponFromCart","state","isLoading","onCouponCodeUpdate","props","setState","finally","render","propTypes","string","func","isRequired","defaultProps","mapStateToProps","CartCouponContainer"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,UAAP;AAEA,OAAO,MAAMC,cAAc,GAAG;AAC1B;AAD0B,kEAAvB;AAKP;;AACA,OAAO,MAAMC,kBAAkB,qBAAG,UAACC,QAAD;AAAA,SAAe;AAC7CC,IAAAA,iBAAiB,EAAE,UAACC,UAAD;AAAA,aAAgBJ,cAAc,CAACK,IAAf,CAC/B,UAAC;AAAEC,QAAAA,OAAO,EAAEC;AAAX,OAAD;AAAA,eAA6BA,UAAU,CAACJ,iBAAX,CAA6BD,QAA7B,EAAuCE,UAAvC,CAA7B;AAAA,OAD+B,CAAhB;AAAA,KAD0B;AAI7CI,IAAAA,oBAAoB,EAAE;AAAA,aAAMR,cAAc,CAACK,IAAf,CACxB,UAAC;AAAEC,QAAAA,OAAO,EAAEC;AAAX,OAAD;AAAA,eAA6BA,UAAU,CAACC,oBAAX,CAAgCN,QAAhC,CAA7B;AAAA,OADwB,CAAN;AAAA;AAJuB,GAAf;AAAA,CAAH,sDAAxB;AASP;;;;AACA,4HAAyCL,aAAzC,EAAuD;AAAA;AAAA;AAAA,SAanDY,kBAbmD,GAa9B;AACjBC,MAAAA,uBAAuB,EAAE,KAAKA,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CADR;AAEjBC,MAAAA,0BAA0B,EAAE,KAAKA,0BAAL,CAAgCD,IAAhC,CAAqC,IAArC;AAFX,KAb8B;AAAA,SAkBnDE,KAlBmD,GAkB3C;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAlB2C;AAAA;;AAoBnDJ,EAAAA,uBAAuB,CAACN,UAAD,EAAa;AAAA;;AAChC,UAAM;AAAED,MAAAA,iBAAF;AAAqBY,MAAAA;AAArB,QAA4C,KAAKC,KAAvD;AAEA,SAAKC,QAAL,CAAc;AAAEH,MAAAA,SAAS,EAAE;AAAb,KAAd;AAEAX,IAAAA,iBAAiB,CAACC,UAAD,CAAjB,CAA8BC,IAA9B;AACI;AADJ,sBAEI;AAAA,aAAMU,kBAAkB,EAAxB;AAAA,KAFJ,2DAGEG,OAHF;AAII;AAJJ,sBAKI;AAAA,aAAM,KAAI,CAACD,QAAL,CAAc;AAAEH,QAAAA,SAAS,EAAE;AAAb,OAAd,CAAN;AAAA,KALJ;AAOH;;AAEDF,EAAAA,0BAA0B,GAAG;AAAA;;AACzB,UAAM;AAAEJ,MAAAA,oBAAF;AAAwBO,MAAAA;AAAxB,QAA+C,KAAKC,KAA1D;AAEA,SAAKC,QAAL,CAAc;AAAEH,MAAAA,SAAS,EAAE;AAAb,KAAd;AAEAN,IAAAA,oBAAoB,GAAGH,IAAvB;AACI;AADJ,sBAEI;AAAA,aAAMU,kBAAkB,EAAxB;AAAA,KAFJ,8DAGEG,OAHF;AAII;AAJJ,sBAKI;AAAA,aAAM,MAAI,CAACD,QAAL,CAAc;AAAEH,QAAAA,SAAS,EAAE;AAAb,OAAd,CAAN;AAAA,KALJ;AAOH;;AAEDK,EAAAA,MAAM,GAAG;AACL,yCACK,UADL,oBAEW,KAAKH,KAFhB,EAGW,KAAKH,KAHhB,EAIW,KAAKJ,kBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOH;;AAxDkD,CAAvD,SACWW,SADX,GACuB;AACfhB,EAAAA,UAAU,EAAER,SAAS,CAACyB,MADP;AAEflB,EAAAA,iBAAiB,EAAEP,SAAS,CAAC0B,IAAV,CAAeC,UAFnB;AAGff,EAAAA,oBAAoB,EAAEZ,SAAS,CAAC0B,IAAV,CAAeC,UAHtB;AAIfR,EAAAA,kBAAkB,EAAEnB,SAAS,CAAC0B;AAJf,CADvB,SAQWE,YARX,GAQ0B;AAClBpB,EAAAA,UAAU,EAAE,EADM;AAElBW,EAAAA,kBAAkB,EAAE,YAAM,CAAE;AAFV,CAR1B;AA2DA;AACA;;AACA,OAAO,MAAMU,eAAe,qBAAG,UAACZ,KAAD;AAAA,SAAY,EAAZ;AAAA,CAAH,mDAArB;AAEP,eAAef,OAAO,CAAC2B,eAAD,EAAkBxB,kBAAlB,CAAP,CAA6CyB,mBAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport CartCoupon from './CartCoupon.component';\n\nexport const CartDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Cart/Cart.dispatcher'\n);\n\n/** @namespace Component/CartCoupon/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    applyCouponToCart: (couponCode) => CartDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.applyCouponToCart(dispatch, couponCode)\n    ),\n    removeCouponFromCart: () => CartDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.removeCouponFromCart(dispatch)\n    )\n});\n\n/** @namespace Component/CartCoupon/Container */\nexport class CartCouponContainer extends PureComponent {\n    static propTypes = {\n        couponCode: PropTypes.string,\n        applyCouponToCart: PropTypes.func.isRequired,\n        removeCouponFromCart: PropTypes.func.isRequired,\n        onCouponCodeUpdate: PropTypes.func\n    };\n\n    static defaultProps = {\n        couponCode: '',\n        onCouponCodeUpdate: () => {}\n    };\n\n    containerFunctions = {\n        handleApplyCouponToCart: this.handleApplyCouponToCart.bind(this),\n        handleRemoveCouponFromCart: this.handleRemoveCouponFromCart.bind(this)\n    };\n\n    state = { isLoading: false };\n\n    handleApplyCouponToCart(couponCode) {\n        const { applyCouponToCart, onCouponCodeUpdate } = this.props;\n\n        this.setState({ isLoading: true });\n\n        applyCouponToCart(couponCode).then(\n            /** @namespace Component/CartCoupon/Container/applyCouponToCartThen */\n            () => onCouponCodeUpdate()\n        ).finally(\n            /** @namespace Component/CartCoupon/Container/applyCouponToCartFinally */\n            () => this.setState({ isLoading: false })\n        );\n    }\n\n    handleRemoveCouponFromCart() {\n        const { removeCouponFromCart, onCouponCodeUpdate } = this.props;\n\n        this.setState({ isLoading: true });\n\n        removeCouponFromCart().then(\n            /** @namespace Component/CartCoupon/Container/removeCouponFromCartThen */\n            () => onCouponCodeUpdate()\n        ).finally(\n            /** @namespace Component/CartCoupon/Container/removeCouponFromCartFinally */\n            () => this.setState({ isLoading: false })\n        );\n    }\n\n    render() {\n        return (\n            <CartCoupon\n              { ...this.props }\n              { ...this.state }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/CartCoupon/Container/mapStateToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapStateToProps = (state) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartCouponContainer);\n"]},"metadata":{},"sourceType":"module"}