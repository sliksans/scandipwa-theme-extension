{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/ProductReviewItem/ProductReviewItem.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport ProductReviewRating from \"/home/arturs/scandiweb/extension/src/component/ProductReviewRating\";\nimport \"./ProductReviewItem.style\";\n/**\n * @class ProductReviewItem\n * #namespace Component/ProductReviewItem/Component\n */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const ProductReviewItem = Mosaic.middleware((_temp = _class = class ProductReviewItem_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.renderReviewListItemRating = function (ratingVoteItem, i) {\n      const {\n        rating_code,\n        percent\n      } = ratingVoteItem;\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        key: i,\n        block: \"ProductReviewItem\",\n        elem: \"RatingSummaryItem\",\n        itemType: \"http://schema.org/Rating\",\n        itemScope: true,\n        itemProp: \"reviewRating\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/_checkBEM(React, \"p\", {\n        itemProp: \"name\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, rating_code), /*#__PURE__*/_checkBEM(React, \"meta\", {\n        itemProp: \"ratingValue\",\n        content: percent,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/_checkBEM(React, \"meta\", {\n        itemProp: \"worstRating\",\n        content: 0,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/_checkBEM(React, \"meta\", {\n        itemProp: \"bestRating\",\n        content: 100,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/_checkBEM(React, ProductReviewRating, {\n        summary: percent,\n        code: rating_code,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }));\n    };\n  }\n\n  getFormattedDate(created_at) {\n    // Safari bug\n    const fixedDate = created_at.replace(/-/g, '/');\n    const date = new Date(fixedDate);\n    return date ? date.toDateString() : created_at;\n  }\n\n  renderAuthor(reviewItem) {\n    const {\n      nickname,\n      created_at\n    } = reviewItem;\n    return /*#__PURE__*/_checkBEM(React, \"p\", {\n      block: \"ProductReviewItem\",\n      elem: \"ReviewAuthor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, __('Written by '), /*#__PURE__*/_checkBEM(React, \"strong\", {\n      itemProp: \"author\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, nickname), /*#__PURE__*/_checkBEM(React, \"meta\", {\n      itemProp: \"datePublished\",\n      content: this.getFormattedDate(created_at),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }), __(', written at %s', this.getFormattedDate(created_at)));\n  }\n\n  render() {\n    const {\n      reviewItem,\n      reviewItem: {\n        title,\n        detail,\n        rating_votes\n      }\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"li\", {\n      block: \"ProductReviewItem\",\n      itemType: \"http://schema.org/Review\",\n      itemProp: \"review\",\n      itemScope: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"h4\", {\n      block: \"ProductReviewItem\",\n      elem: \"ReviewTitle\",\n      itemProp: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, title), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"ProductReviewItem\",\n      elem: \"RatingSummary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, rating_votes.map(this.renderReviewListItemRating)), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"ProductReviewItem\",\n      elem: \"ReviewContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"p\", {\n      block: \"ProductReviewItem\",\n      elem: \"ReviewDetails\",\n      itemProp: \"reviewBody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, detail), this.renderAuthor(reviewItem)));\n  }\n\n}, _class.propTypes = {\n  reviewItem: PropTypes.object.isRequired\n}, _temp), \"Component/ProductReviewItem/Component\");\nexport default ProductReviewItem;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/ProductReviewItem/ProductReviewItem.component.js"],"names":["PropTypes","PureComponent","ProductReviewRating","renderReviewListItemRating","ratingVoteItem","i","rating_code","percent","getFormattedDate","created_at","fixedDate","replace","date","Date","toDateString","renderAuthor","reviewItem","nickname","__","render","title","detail","rating_votes","props","map","propTypes","object","isRequired","ProductReviewItem"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ProductReviewRating from 'Component/ProductReviewRating';\n\nimport './ProductReviewItem.style';\n\n/**\n * @class ProductReviewItem\n * @namespace Component/ProductReviewItem/Component\n */\nexport class ProductReviewItem extends PureComponent {\n    static propTypes = {\n        reviewItem: PropTypes.object.isRequired\n    };\n\n    getFormattedDate(created_at) {\n        // Safari bug\n        const fixedDate = created_at.replace(/-/g, '/');\n        const date = new Date(fixedDate);\n        return date ? date.toDateString() : created_at;\n    }\n\n    renderReviewListItemRating = (ratingVoteItem, i) => {\n        const {\n            rating_code,\n            percent\n        } = ratingVoteItem;\n\n        return (\n            <div\n              key={ i }\n              block=\"ProductReviewItem\"\n              elem=\"RatingSummaryItem\"\n              itemType=\"http://schema.org/Rating\"\n              itemScope\n              itemProp=\"reviewRating\"\n            >\n                <p itemProp=\"name\">{ rating_code }</p>\n                <meta itemProp=\"ratingValue\" content={ percent } />\n                <meta itemProp=\"worstRating\" content={ 0 } />\n                <meta itemProp=\"bestRating\" content={ 100 } />\n                <ProductReviewRating\n                  summary={ percent }\n                  code={ rating_code }\n                />\n            </div>\n        );\n    };\n\n    renderAuthor(reviewItem) {\n        const { nickname, created_at } = reviewItem;\n\n        return (\n            <p block=\"ProductReviewItem\" elem=\"ReviewAuthor\">\n                { __('Written by ') }\n                <strong itemProp=\"author\">{ nickname }</strong>\n                <meta itemProp=\"datePublished\" content={ this.getFormattedDate(created_at) } />\n                { __(', written at %s', this.getFormattedDate(created_at)) }\n            </p>\n        );\n    }\n\n    render() {\n        const {\n            reviewItem,\n            reviewItem: {\n                title,\n                detail,\n                rating_votes\n            }\n        } = this.props;\n\n        return (\n            <li\n              block=\"ProductReviewItem\"\n              itemType=\"http://schema.org/Review\"\n              itemProp=\"review\"\n              itemScope\n            >\n                <h4 block=\"ProductReviewItem\" elem=\"ReviewTitle\" itemProp=\"name\">\n                    { title }\n                </h4>\n                <div block=\"ProductReviewItem\" elem=\"RatingSummary\">\n                    { rating_votes.map(this.renderReviewListItemRating) }\n                </div>\n                <div block=\"ProductReviewItem\" elem=\"ReviewContent\">\n                    <p block=\"ProductReviewItem\" elem=\"ReviewDetails\" itemProp=\"reviewBody\">\n                        { detail }\n                    </p>\n                    { this.renderAuthor(reviewItem) }\n                </div>\n            </li>\n        );\n    }\n}\n\nexport default ProductReviewItem;\n"]},"metadata":{},"sourceType":"module"}