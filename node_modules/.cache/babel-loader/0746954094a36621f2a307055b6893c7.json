{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport { APPEND_PAGE, UPDATE_LOAD_STATUS, UPDATE_PAGE_LOAD_STATUS, UPDATE_PRODUCT_LIST_ITEMS } from \"/home/arturs/scandiweb/scandipwa/src/store/ProductList/ProductList.action\";\nimport { getIndexedProducts } from \"/home/arturs/scandiweb/scandipwa/src/util/Product\";\n/** #namespace Store/ProductList/Reducer/getInitialState */\n\nexport const getInitialState = Mosaic.middleware(function () {\n  return {\n    pages: {},\n    totalItems: 0,\n    totalPages: 0,\n    isLoading: true,\n    currentArgs: {}\n  };\n}, \"Store/ProductList/Reducer/getInitialState\");\nexport const defaultConfig = {\n  itemsPerPageCount: 12\n};\n/** #namespace Store/ProductList/Reducer */\n\nexport const ProductListReducer = Mosaic.middleware(_c = function (state = getInitialState(), action) {\n  const {\n    type,\n    items: initialItems = [],\n    total_pages: totalPages,\n    total_count: totalItems,\n    currentPage,\n    isLoading,\n    args: currentArgs\n  } = action;\n\n  switch (type) {\n    case APPEND_PAGE:\n      return { ...state,\n        isPageLoading: false,\n        pages: { ...state.pages,\n          [currentPage]: getIndexedProducts(initialItems)\n        }\n      };\n\n    case UPDATE_PRODUCT_LIST_ITEMS:\n      return { ...state,\n        currentArgs,\n        isLoading: false,\n        totalItems,\n        totalPages,\n        pages: {\n          [currentPage]: getIndexedProducts(initialItems)\n        }\n      };\n\n    case UPDATE_PAGE_LOAD_STATUS:\n      return { ...state,\n        isPageLoading: true\n      };\n\n    case UPDATE_LOAD_STATUS:\n      return { ...state,\n        isLoading\n      };\n\n    default:\n      return state;\n  }\n}, \"Store/ProductList/Reducer\");\n_c2 = ProductListReducer;\nexport default ProductListReducer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProductListReducer$\");\n$RefreshReg$(_c2, \"ProductListReducer\");","map":{"version":3,"sources":["/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/store/ProductList/ProductList.reducer.js"],"names":["APPEND_PAGE","UPDATE_LOAD_STATUS","UPDATE_PAGE_LOAD_STATUS","UPDATE_PRODUCT_LIST_ITEMS","getIndexedProducts","getInitialState","pages","totalItems","totalPages","isLoading","currentArgs","defaultConfig","itemsPerPageCount","ProductListReducer","state","action","type","items","initialItems","total_pages","total_count","currentPage","args","isPageLoading"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SACIA,WADJ,EAEIC,kBAFJ,EAGIC,uBAHJ,EAIIC,yBAJJ;AAMA,SAASC,kBAAT;AAEA;;AACA,OAAO,MAAMC,eAAe,qBAAG;AAAA,SAAO;AAClCC,IAAAA,KAAK,EAAE,EAD2B;AAElCC,IAAAA,UAAU,EAAE,CAFsB;AAGlCC,IAAAA,UAAU,EAAE,CAHsB;AAIlCC,IAAAA,SAAS,EAAE,IAJuB;AAKlCC,IAAAA,WAAW,EAAE;AALqB,GAAP;AAAA,CAAH,8CAArB;AAQP,OAAO,MAAMC,aAAa,GAAG;AACzBC,EAAAA,iBAAiB,EAAE;AADM,CAAtB;AAIP;;AACA,OAAO,MAAMC,kBAAkB,0BAAG,UAC9BC,KAAK,GAAGT,eAAe,EADO,EAE9BU,MAF8B,EAG7B;AACD,QAAM;AACFC,IAAAA,IADE;AAEFC,IAAAA,KAAK,EAAEC,YAAY,GAAG,EAFpB;AAGFC,IAAAA,WAAW,EAAEX,UAHX;AAIFY,IAAAA,WAAW,EAAEb,UAJX;AAKFc,IAAAA,WALE;AAMFZ,IAAAA,SANE;AAOFa,IAAAA,IAAI,EAAEZ;AAPJ,MAQFK,MARJ;;AAUA,UAAQC,IAAR;AACA,SAAKhB,WAAL;AACI,aAAO,EACH,GAAGc,KADA;AAEHS,QAAAA,aAAa,EAAE,KAFZ;AAGHjB,QAAAA,KAAK,EAAE,EACH,GAAGQ,KAAK,CAACR,KADN;AAEH,WAACe,WAAD,GAAejB,kBAAkB,CAACc,YAAD;AAF9B;AAHJ,OAAP;;AASJ,SAAKf,yBAAL;AACI,aAAO,EACH,GAAGW,KADA;AAEHJ,QAAAA,WAFG;AAGHD,QAAAA,SAAS,EAAE,KAHR;AAIHF,QAAAA,UAJG;AAKHC,QAAAA,UALG;AAMHF,QAAAA,KAAK,EAAE;AAAE,WAACe,WAAD,GAAejB,kBAAkB,CAACc,YAAD;AAAnC;AANJ,OAAP;;AASJ,SAAKhB,uBAAL;AACI,aAAO,EACH,GAAGY,KADA;AAEHS,QAAAA,aAAa,EAAE;AAFZ,OAAP;;AAKJ,SAAKtB,kBAAL;AACI,aAAO,EACH,GAAGa,KADA;AAEHL,QAAAA;AAFG,OAAP;;AAKJ;AACI,aAAOK,KAAP;AAlCJ;AAoCH,CAlD8B,8BAAxB;MAAMD,kB;AAoDb,eAAeA,kBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport {\n    APPEND_PAGE,\n    UPDATE_LOAD_STATUS,\n    UPDATE_PAGE_LOAD_STATUS,\n    UPDATE_PRODUCT_LIST_ITEMS\n} from 'Store/ProductList/ProductList.action';\nimport { getIndexedProducts } from 'Util/Product';\n\n/** @namespace Store/ProductList/Reducer/getInitialState */\nexport const getInitialState = () => ({\n    pages: {},\n    totalItems: 0,\n    totalPages: 0,\n    isLoading: true,\n    currentArgs: {}\n});\n\nexport const defaultConfig = {\n    itemsPerPageCount: 12\n};\n\n/** @namespace Store/ProductList/Reducer */\nexport const ProductListReducer = (\n    state = getInitialState(),\n    action\n) => {\n    const {\n        type,\n        items: initialItems = [],\n        total_pages: totalPages,\n        total_count: totalItems,\n        currentPage,\n        isLoading,\n        args: currentArgs\n    } = action;\n\n    switch (type) {\n    case APPEND_PAGE:\n        return {\n            ...state,\n            isPageLoading: false,\n            pages: {\n                ...state.pages,\n                [currentPage]: getIndexedProducts(initialItems)\n            }\n        };\n\n    case UPDATE_PRODUCT_LIST_ITEMS:\n        return {\n            ...state,\n            currentArgs,\n            isLoading: false,\n            totalItems,\n            totalPages,\n            pages: { [currentPage]: getIndexedProducts(initialItems) }\n        };\n\n    case UPDATE_PAGE_LOAD_STATUS:\n        return {\n            ...state,\n            isPageLoading: true\n        };\n\n    case UPDATE_LOAD_STATUS:\n        return {\n            ...state,\n            isLoading\n        };\n\n    default:\n        return state;\n    }\n};\n\nexport default ProductListReducer;\n"]},"metadata":{},"sourceType":"module"}