{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/ProductCompare/ProductCompare.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { ProductItemsType } from \"/home/arturs/scandiweb/extension/src/type/ProductList\";\nimport ProductCompare from \"./ProductCompare.component\";\nexport const ProductCompareDispatcher = import(\n/* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n\"/home/arturs/scandiweb/extension/src/store/ProductCompare/ProductCompare.dispatcher\");\n/** #namespace Component/ProductCompare/Container/mapStateToProps  */\n\nexport const mapStateToProps = Mosaic.middleware(function (state) {\n  return {\n    products: state.ProductCompareReducer.products,\n    items: state.ProductCompareReducer.items,\n    attributes: state.ProductCompareReducer.attributes,\n    isLoading: state.ProductCompareReducer.isLoading,\n    device: state.ConfigReducer.device\n  };\n}, \"Component/ProductCompare/Container/mapStateToProps\");\n/** #namespace Component/ProductCompare/Container/mapDispatchToProps  */\n\nexport const mapDispatchToProps = Mosaic.middleware(function (dispatch) {\n  return {\n    fetchCompareList: function () {\n      return ProductCompareDispatcher.then(function ({\n        default: dispatcher\n      }) {\n        return dispatcher.getCompareList(dispatch);\n      });\n    },\n    clearCompareList: function () {\n      return ProductCompareDispatcher.then(function ({\n        default: dispatcher\n      }) {\n        return dispatcher.clearComparedProducts(dispatch);\n      });\n    }\n  };\n}, \"Component/ProductCompare/Container/mapDispatchToProps\");\n/** #namespace Component/ProductCompare/Container */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const ProductCompareContainer = Mosaic.middleware((_temp = _class = class ProductCompareContainer_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    super(...args);\n    this.containerFunctions = {\n      getAttributes: this.getAttributes.bind(this),\n      clearCompareList: this.clearCompareList.bind(this)\n    };\n  }\n\n  componentDidMount() {\n    this.fetchCompareList();\n  }\n\n  fetchCompareList() {\n    const {\n      fetchCompareList\n    } = this.props;\n    fetchCompareList();\n  }\n\n  clearCompareList() {\n    const {\n      clearCompareList\n    } = this.props;\n    clearCompareList();\n  }\n\n  getAttributes() {\n    const {\n      attributes,\n      items\n    } = this.props;\n\n    if (!items.length || !attributes.length) {\n      return [];\n    }\n\n    return attributes.map(function ({\n      code,\n      label\n    }) {\n      return {\n        attribute_id: code,\n        attribute_code: code,\n        attribute_label: label,\n        attribute_values: items.map(function ({\n          attributes\n        }) {\n          return attributes.find(function (attribute) {\n            return attribute.code === code;\n          }).value;\n        })\n      };\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, ProductCompare, Object.assign({}, this.props, this.containerFunctions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}, _class.propTypes = {\n  fetchCompareList: PropTypes.func.isRequired,\n  clearCompareList: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool,\n  products: ProductItemsType,\n  items: PropTypes.array,\n  attributes: PropTypes.array\n}, _class.defaultProps = {\n  isLoading: false,\n  products: [],\n  items: [],\n  attributes: []\n}, _temp), \"Component/ProductCompare/Container\");\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCompareContainer);","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/ProductCompare/ProductCompare.container.js"],"names":["PropTypes","PureComponent","connect","ProductItemsType","ProductCompare","ProductCompareDispatcher","mapStateToProps","state","products","ProductCompareReducer","items","attributes","isLoading","device","ConfigReducer","mapDispatchToProps","dispatch","fetchCompareList","then","default","dispatcher","getCompareList","clearCompareList","clearComparedProducts","containerFunctions","getAttributes","bind","componentDidMount","props","length","map","code","label","attribute_id","attribute_code","attribute_label","attribute_values","find","attribute","value","render","propTypes","func","isRequired","bool","array","defaultProps","ProductCompareContainer"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,gBAAT;AAEA,OAAOC,cAAP;AAEA,OAAO,MAAMC,wBAAwB,GAAG;AACpC;AADoC,sFAAjC;AAKP;;AACA,OAAO,MAAMC,eAAe,qBAAG,UAACC,KAAD;AAAA,SAAY;AACvCC,IAAAA,QAAQ,EAAED,KAAK,CAACE,qBAAN,CAA4BD,QADC;AAEvCE,IAAAA,KAAK,EAAEH,KAAK,CAACE,qBAAN,CAA4BC,KAFI;AAGvCC,IAAAA,UAAU,EAAEJ,KAAK,CAACE,qBAAN,CAA4BE,UAHD;AAIvCC,IAAAA,SAAS,EAAEL,KAAK,CAACE,qBAAN,CAA4BG,SAJA;AAKvCC,IAAAA,MAAM,EAAEN,KAAK,CAACO,aAAN,CAAoBD;AALW,GAAZ;AAAA,CAAH,uDAArB;AAQP;;AACA,OAAO,MAAME,kBAAkB,qBAAG,UAACC,QAAD;AAAA,SAAe;AAC7CC,IAAAA,gBAAgB,EAAE;AAAA,aAAMZ,wBAAwB,CAACa,IAAzB,CACpB,UAAC;AAAEC,QAAAA,OAAO,EAAEC;AAAX,OAAD;AAAA,eAA6BA,UAAU,CAACC,cAAX,CAA0BL,QAA1B,CAA7B;AAAA,OADoB,CAAN;AAAA,KAD2B;AAI7CM,IAAAA,gBAAgB,EAAE;AAAA,aAAMjB,wBAAwB,CAACa,IAAzB,CACpB,UAAC;AAAEC,QAAAA,OAAO,EAAEC;AAAX,OAAD;AAAA,eAA6BA,UAAU,CAACG,qBAAX,CAAiCP,QAAjC,CAA7B;AAAA,OADoB,CAAN;AAAA;AAJ2B,GAAf;AAAA,CAAH,0DAAxB;AASP;;;;AACA,oIAA6Cf,aAA7C,EAA2D;AAAA;AAAA;AAAA,SAiBvDuB,kBAjBuD,GAiBlC;AACjBC,MAAAA,aAAa,EAAE,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CADE;AAEjBJ,MAAAA,gBAAgB,EAAE,KAAKA,gBAAL,CAAsBI,IAAtB,CAA2B,IAA3B;AAFD,KAjBkC;AAAA;;AAsBvDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKV,gBAAL;AACH;;AAEDA,EAAAA,gBAAgB,GAAG;AACf,UAAM;AAAEA,MAAAA;AAAF,QAAuB,KAAKW,KAAlC;AAEAX,IAAAA,gBAAgB;AACnB;;AAEDK,EAAAA,gBAAgB,GAAG;AACf,UAAM;AAAEA,MAAAA;AAAF,QAAuB,KAAKM,KAAlC;AAEAN,IAAAA,gBAAgB;AACnB;;AAEDG,EAAAA,aAAa,GAAG;AACZ,UAAM;AAAEd,MAAAA,UAAF;AAAcD,MAAAA;AAAd,QAAwB,KAAKkB,KAAnC;;AAEA,QAAI,CAAClB,KAAK,CAACmB,MAAP,IAAiB,CAAClB,UAAU,CAACkB,MAAjC,EAAyC;AACrC,aAAO,EAAP;AACH;;AAED,WAAOlB,UAAU,CAACmB,GAAX,CAAe,UAAC;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAD;AAAA,aAAsB;AACxCC,QAAAA,YAAY,EAAEF,IAD0B;AAExCG,QAAAA,cAAc,EAAEH,IAFwB;AAGxCI,QAAAA,eAAe,EAAEH,KAHuB;AAIxCI,QAAAA,gBAAgB,EAAE1B,KAAK,CAACoB,GAAN,CACd,UAAC;AAAEnB,UAAAA;AAAF,SAAD;AAAA,iBAAoBA,UAAU,CAAC0B,IAAX,CAAgB,UAACC,SAAD;AAAA,mBAAeA,SAAS,CAACP,IAAV,KAAmBA,IAAlC;AAAA,WAAhB,EAAwDQ,KAA5E;AAAA,SADc;AAJsB,OAAtB;AAAA,KAAf,CAAP;AAQH;;AAEDC,EAAAA,MAAM,GAAG;AACL,yCACK,cADL,oBAEW,KAAKZ,KAFhB,EAGW,KAAKJ,kBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMH;;AA9DsD,CAA3D,SACWiB,SADX,GACuB;AACfxB,EAAAA,gBAAgB,EAAEjB,SAAS,CAAC0C,IAAV,CAAeC,UADlB;AAEfrB,EAAAA,gBAAgB,EAAEtB,SAAS,CAAC0C,IAAV,CAAeC,UAFlB;AAGf/B,EAAAA,SAAS,EAAEZ,SAAS,CAAC4C,IAHN;AAIfpC,EAAAA,QAAQ,EAAEL,gBAJK;AAKfO,EAAAA,KAAK,EAAEV,SAAS,CAAC6C,KALF;AAMflC,EAAAA,UAAU,EAAEX,SAAS,CAAC6C;AANP,CADvB,SAUWC,YAVX,GAU0B;AAClBlC,EAAAA,SAAS,EAAE,KADO;AAElBJ,EAAAA,QAAQ,EAAE,EAFQ;AAGlBE,EAAAA,KAAK,EAAE,EAHW;AAIlBC,EAAAA,UAAU,EAAE;AAJM,CAV1B;AAiEA,eAAeT,OAAO,CAACI,eAAD,EAAkBS,kBAAlB,CAAP,CAA6CgC,uBAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ProductItemsType } from 'Type/ProductList';\n\nimport ProductCompare from './ProductCompare.component';\n\nexport const ProductCompareDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/ProductCompare/ProductCompare.dispatcher'\n);\n\n/** @namespace Component/ProductCompare/Container/mapStateToProps  */\nexport const mapStateToProps = (state) => ({\n    products: state.ProductCompareReducer.products,\n    items: state.ProductCompareReducer.items,\n    attributes: state.ProductCompareReducer.attributes,\n    isLoading: state.ProductCompareReducer.isLoading,\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/ProductCompare/Container/mapDispatchToProps  */\nexport const mapDispatchToProps = (dispatch) => ({\n    fetchCompareList: () => ProductCompareDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.getCompareList(dispatch)\n    ),\n    clearCompareList: () => ProductCompareDispatcher.then(\n        ({ default: dispatcher }) => dispatcher.clearComparedProducts(dispatch)\n    )\n});\n\n/** @namespace Component/ProductCompare/Container */\nexport class ProductCompareContainer extends PureComponent {\n    static propTypes = {\n        fetchCompareList: PropTypes.func.isRequired,\n        clearCompareList: PropTypes.func.isRequired,\n        isLoading: PropTypes.bool,\n        products: ProductItemsType,\n        items: PropTypes.array,\n        attributes: PropTypes.array\n    };\n\n    static defaultProps = {\n        isLoading: false,\n        products: [],\n        items: [],\n        attributes: []\n    };\n\n    containerFunctions = {\n        getAttributes: this.getAttributes.bind(this),\n        clearCompareList: this.clearCompareList.bind(this)\n    };\n\n    componentDidMount() {\n        this.fetchCompareList();\n    }\n\n    fetchCompareList() {\n        const { fetchCompareList } = this.props;\n\n        fetchCompareList();\n    }\n\n    clearCompareList() {\n        const { clearCompareList } = this.props;\n\n        clearCompareList();\n    }\n\n    getAttributes() {\n        const { attributes, items } = this.props;\n\n        if (!items.length || !attributes.length) {\n            return [];\n        }\n\n        return attributes.map(({ code, label }) => ({\n            attribute_id: code,\n            attribute_code: code,\n            attribute_label: label,\n            attribute_values: items.map(\n                ({ attributes }) => attributes.find((attribute) => attribute.code === code).value\n            )\n        }));\n    }\n\n    render() {\n        return (\n            <ProductCompare\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCompareContainer);\n"]},"metadata":{},"sourceType":"module"}