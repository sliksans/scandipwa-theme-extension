{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/TranslateOnCursorMove.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { ChildrenType } from \"/home/arturs/scandiweb/scandipwa/src/type/Common\";\nimport CSS from \"/home/arturs/scandiweb/scandipwa/src/util/CSS\";\nimport \"./TranslateOnCursorMove.style\";\n/** #namespace Component/TranslateOnCursorMove/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const TranslateOnCursorMove = Mosaic.middleware((_temp = _class = class TranslateOnCursorMove_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n    this.ref = /*#__PURE__*/createRef();\n\n    this.handleMouseMove = function ({\n      pageY: wrapperPageY\n    }) {\n      var _this$ref$current$que, _this$ref$current$que2;\n\n      const {\n        activeImageId,\n        itemSelector,\n        targetSelector\n      } = _this.props; // Space from top and bottom to shrink mouse move watch area\n\n      const paddingY = 90;\n      const target = (_this$ref$current$que = _this.ref.current.querySelectorAll(itemSelector)) === null || _this$ref$current$que === void 0 ? void 0 : (_this$ref$current$que2 = _this$ref$current$que[activeImageId]) === null || _this$ref$current$que2 === void 0 ? void 0 : _this$ref$current$que2.querySelector(targetSelector);\n\n      if (!target) {\n        return;\n      }\n\n      const innerHeight = target.getBoundingClientRect().height;\n\n      const {\n        height: wrapperHeight,\n        top\n      } = _this.ref.current.getBoundingClientRect();\n\n      const pageY = wrapperPageY - top; // When mouse is reached top or bottom\n\n      if (wrapperPageY < paddingY + top || wrapperPageY > wrapperHeight + top - paddingY) {\n        return;\n      }\n\n      const ratio = (innerHeight - wrapperHeight) / (wrapperHeight - paddingY * 2);\n      const translate = (pageY - paddingY) * ratio;\n      CSS.setVariable(_this.ref, 'translateYOnCursorMove', `${-translate}px`);\n    };\n  }\n\n  render() {\n    const {\n      children,\n      isMobile\n    } = this.props;\n\n    if (isMobile) {\n      return children;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"TranslateOnCursorMove\",\n      onMouseMove: this.handleMouseMove,\n      ref: this.ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, children);\n  }\n\n}, _class.propTypes = {\n  children: ChildrenType.isRequired,\n  activeImageId: PropTypes.number.isRequired,\n  isMobile: PropTypes.bool.isRequired,\n  itemSelector: PropTypes.string.isRequired,\n  targetSelector: PropTypes.string.isRequired\n}, _class.defaultProps = {}, _temp), \"Component/TranslateOnCursorMove/Component\");\nexport default TranslateOnCursorMove;","map":{"version":3,"sources":["/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/TranslateOnCursorMove.component.js"],"names":["PropTypes","createRef","PureComponent","ChildrenType","CSS","ref","handleMouseMove","pageY","wrapperPageY","activeImageId","itemSelector","targetSelector","props","paddingY","target","current","querySelectorAll","querySelector","innerHeight","getBoundingClientRect","height","wrapperHeight","top","ratio","translate","setVariable","render","children","isMobile","propTypes","isRequired","number","bool","string","defaultProps","TranslateOnCursorMove"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,OAAzC;AAEA,SAASC,YAAT;AACA,OAAOC,GAAP;AAEA;AAEA;;;;AACA,gIAA2CF,aAA3C,EAAyD;AAAA;AAAA;;AAAA;AAAA;AAAA,SAYrDG,GAZqD,gBAY/CJ,SAAS,EAZsC;;AAAA,SAcrDK,eAdqD,GAcnC,UAAC;AAAEC,MAAAA,KAAK,EAAEC;AAAT,KAAD,EAA6B;AAAA;;AAC3C,YAAM;AACFC,QAAAA,aADE;AAEFC,QAAAA,YAFE;AAGFC,QAAAA;AAHE,UAIF,KAAI,CAACC,KAJT,CAD2C,CAO3C;;AACA,YAAMC,QAAQ,GAAG,EAAjB;AAEA,YAAMC,MAAM,4BAAG,KAAI,CAACT,GAAL,CAASU,OAAT,CACVC,gBADU,CACON,YADP,CAAH,oFAAG,sBACuBD,aADvB,CAAH,2DAAG,uBAETQ,aAFS,CAEKN,cAFL,CAAf;;AAIA,UAAI,CAACG,MAAL,EAAa;AACT;AACH;;AAED,YAAMI,WAAW,GAAGJ,MAAM,CAACK,qBAAP,GAA+BC,MAAnD;;AACA,YAAM;AAAEA,QAAAA,MAAM,EAAEC,aAAV;AAAyBC,QAAAA;AAAzB,UAAiC,KAAI,CAACjB,GAAL,CAASU,OAAT,CAAiBI,qBAAjB,EAAvC;;AAEA,YAAMZ,KAAK,GAAGC,YAAY,GAAGc,GAA7B,CArB2C,CAuB3C;;AACA,UAAId,YAAY,GAAGK,QAAQ,GAAGS,GAA1B,IAAkCd,YAAY,GAAIa,aAAa,GAAGC,GAAhB,GAAsBT,QAA5E,EAAwF;AACpF;AACH;;AAED,YAAMU,KAAK,GAAG,CAACL,WAAW,GAAGG,aAAf,KAAiCA,aAAa,GAAIR,QAAQ,GAAG,CAA7D,CAAd;AACA,YAAMW,SAAS,GAAG,CAACjB,KAAK,GAAGM,QAAT,IAAqBU,KAAvC;AAEAnB,MAAAA,GAAG,CAACqB,WAAJ,CAAgB,KAAI,CAACpB,GAArB,EAA0B,wBAA1B,EAAqD,GAAG,CAACmB,SAAW,IAApE;AACH,KA9CoD;AAAA;;AAgDrDE,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAAyB,KAAKhB,KAApC;;AAEA,QAAIgB,QAAJ,EAAc;AACV,aAAOD,QAAP;AACH;;AAED;AACS,MAAA,KAAK,EAAC,uBADf;AACuC,MAAA,WAAW,EAAG,KAAKrB,eAD1D;AAC4E,MAAA,GAAG,EAAG,KAAKD,GADvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEUsB,QAFV;AAKH;;AA5DoD,CAAzD,SACWE,SADX,GACuB;AACfF,EAAAA,QAAQ,EAAExB,YAAY,CAAC2B,UADR;AAEfrB,EAAAA,aAAa,EAAET,SAAS,CAAC+B,MAAV,CAAiBD,UAFjB;AAGfF,EAAAA,QAAQ,EAAE5B,SAAS,CAACgC,IAAV,CAAeF,UAHV;AAIfpB,EAAAA,YAAY,EAAEV,SAAS,CAACiC,MAAV,CAAiBH,UAJhB;AAKfnB,EAAAA,cAAc,EAAEX,SAAS,CAACiC,MAAV,CAAiBH;AALlB,CADvB,SASWI,YATX,GAS0B,EAT1B;AA+DA,eAAeC,qBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common';\nimport CSS from 'Util/CSS';\n\nimport './TranslateOnCursorMove.style';\n\n/** @namespace Component/TranslateOnCursorMove/Component */\nexport class TranslateOnCursorMove extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        itemSelector: PropTypes.string.isRequired,\n        targetSelector: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {\n    };\n\n    ref = createRef();\n\n    handleMouseMove = ({ pageY: wrapperPageY }) => {\n        const {\n            activeImageId,\n            itemSelector,\n            targetSelector\n        } = this.props;\n\n        // Space from top and bottom to shrink mouse move watch area\n        const paddingY = 90;\n\n        const target = this.ref.current\n            .querySelectorAll(itemSelector)?.[activeImageId]\n            ?.querySelector(targetSelector);\n\n        if (!target) {\n            return;\n        }\n\n        const innerHeight = target.getBoundingClientRect().height;\n        const { height: wrapperHeight, top } = this.ref.current.getBoundingClientRect();\n\n        const pageY = wrapperPageY - top;\n\n        // When mouse is reached top or bottom\n        if (wrapperPageY < paddingY + top || (wrapperPageY > (wrapperHeight + top - paddingY))) {\n            return;\n        }\n\n        const ratio = (innerHeight - wrapperHeight) / (wrapperHeight - (paddingY * 2));\n        const translate = (pageY - paddingY) * ratio;\n\n        CSS.setVariable(this.ref, 'translateYOnCursorMove', `${ -translate }px`);\n    };\n\n    render() {\n        const { children, isMobile } = this.props;\n\n        if (isMobile) {\n            return children;\n        }\n\n        return (\n            <div block=\"TranslateOnCursorMove\" onMouseMove={ this.handleMouseMove } ref={ this.ref }>\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default TranslateOnCursorMove;\n"]},"metadata":{},"sourceType":"module"}