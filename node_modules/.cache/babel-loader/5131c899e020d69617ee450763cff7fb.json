{"ast":null,"code":"/* eslint-disable no-param-reassign */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n*/\nimport { combineReducers, createStore } from 'redux';\n/**\n * Configure the store\n * #namespace Store/Index/configureStore\n * */\n\nexport let configureStore = Mosaic.middleware(function configureStore(store) {\n  // Add a dictionary to keep track of the registered async reducers\n  store.asyncReducers = {}; // Create an inject reducer function\n  // This function adds the async reducer, and creates a new combined reducer\n\n  store.injectReducer = function (key, asyncReducer) {\n    store.asyncReducers[key] = asyncReducer;\n    store.replaceReducer(combineReducers(store.asyncReducers));\n  }; // Return the modified store\n\n\n  return store;\n}, \"Store/Index/configureStore\\n\");\nexport const noopReducer = function (state) {\n  return state;\n};\nexport const getStore = function () {\n  // Initialize the store\n  const store = configureStore(createStore(noopReducer, // enable Redux dev-tools only in development\n  process.env.NODE_ENV === 'development' && window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\n    trace: true\n  })));\n  return function storeGetter() {\n    return store;\n  };\n}();\nexport default getStore;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/util/Store/index.js"],"names":["combineReducers","createStore","store","asyncReducers","injectReducer","key","asyncReducer","replaceReducer","noopReducer","state","getStore","configureStore","process","env","NODE_ENV","window","__REDUX_DEVTOOLS_EXTENSION__","trace","storeGetter"],"mappings":"AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,eAAT,EAA0BC,WAA1B,QAA6C,OAA7C;AAEA;AACA;AACA;AACA;;AACA,sEAA+BC,KAA/B,EAAsC;AAClC;AACAA,EAAAA,KAAK,CAACC,aAAN,GAAsB,EAAtB,CAFkC,CAIlC;AACA;;AACAD,EAAAA,KAAK,CAACE,aAAN,GAAsB,UAACC,GAAD,EAAMC,YAAN,EAAuB;AACzCJ,IAAAA,KAAK,CAACC,aAAN,CAAoBE,GAApB,IAA2BC,YAA3B;AACAJ,IAAAA,KAAK,CAACK,cAAN,CAAqBP,eAAe,CAACE,KAAK,CAACC,aAAP,CAApC;AACH,GAHD,CANkC,CAWlC;;;AACA,SAAOD,KAAP;AACH,CAbD;AAeA,OAAO,MAAMM,WAAW,GAAG,UAACC,KAAD;AAAA,SAAWA,KAAX;AAAA,CAApB;AAEP,OAAO,MAAMC,QAAQ,GAAI,YAAM;AAC3B;AACA,QAAMR,KAAK,GAAGS,cAAc,CAACV,WAAW,CACpCO,WADoC,EAElC;AACEI,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,IACGC,MAAM,CAACC,4BAFd,IAGKD,MAAM,CAACC,4BAAP,CAAoC;AACrCC,IAAAA,KAAK,EAAE;AAD8B,GAApC,CAL+B,CAAZ,CAA5B;AAUA,SAAO,SAASC,WAAT,GAAuB;AAC1B,WAAOhB,KAAP;AACH,GAFD;AAGH,CAfuB,EAAjB;AAiBP,eAAeQ,QAAf","sourcesContent":["/* eslint-disable no-param-reassign */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n*/\nimport { combineReducers, createStore } from 'redux';\n\n/**\n * Configure the store\n * @namespace Store/Index/configureStore\n * */\nexport function configureStore(store) {\n    // Add a dictionary to keep track of the registered async reducers\n    store.asyncReducers = {};\n\n    // Create an inject reducer function\n    // This function adds the async reducer, and creates a new combined reducer\n    store.injectReducer = (key, asyncReducer) => {\n        store.asyncReducers[key] = asyncReducer;\n        store.replaceReducer(combineReducers(store.asyncReducers));\n    };\n\n    // Return the modified store\n    return store;\n}\n\nexport const noopReducer = (state) => state;\n\nexport const getStore = (() => {\n    // Initialize the store\n    const store = configureStore(createStore(\n        noopReducer,\n        ( // enable Redux dev-tools only in development\n            process.env.NODE_ENV === 'development'\n            && window.__REDUX_DEVTOOLS_EXTENSION__\n        ) && window.__REDUX_DEVTOOLS_EXTENSION__({\n            trace: true\n        })\n    ));\n\n    return function storeGetter() {\n        return store;\n    };\n})();\n\nexport default getStore;\n"]},"metadata":{},"sourceType":"module"}