{"ast":null,"code":"var _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/CategoryConfigurableAttributes/CategoryConfigurableAttributes.container.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport { connect } from 'react-redux'; // eslint-disable-next-line max-len\n\nimport ProductConfigurableAttributesContainer from \"/home/arturs/scandiweb/extension/src/component/ProductConfigurableAttributes/ProductConfigurableAttributes.container\";\nimport CategoryConfigurableAttributes from \"./CategoryConfigurableAttributes.component\";\n/** #namespace Component/CategoryConfigurableAttributes/Container/mapStateToProps */\n\nexport const mapStateToProps = Mosaic.middleware(function (state) {\n  return {\n    currency_code: state.ConfigReducer.currencyData.current_currency_code,\n    show_product_count: state.ConfigReducer.layered_navigation_product_count_enabled,\n    childrenCategories: state.CategoryReducer.category.children\n  };\n}, \"Component/CategoryConfigurableAttributes/Container/mapStateToProps\");\n/** #namespace Component/CategoryConfigurableAttributes/Container */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const CategoryConfigurableAttributesContainer = Mosaic.middleware(class CategoryConfigurableAttributesContainer_ extends Mosaic.Extensible(ProductConfigurableAttributesContainer) {\n  constructor(...args) {\n    super(...args);\n    this.containerFunctions = { ...this.containerFunctions,\n      getSubCategories: this.getSubCategories.bind(this)\n    };\n  }\n\n  getSubCategories(option) {\n    const optionWithSubcategories = { ...option\n    };\n    const {\n      childrenCategories\n    } = this.props;\n    const {\n      attribute_values\n    } = option;\n    const childrenCategoryIds = childrenCategories.map(function (category) {\n      return category.id.toString();\n    });\n    const subCategoriesIds = attribute_values.filter(function (item) {\n      return childrenCategoryIds.includes(item);\n    });\n    optionWithSubcategories.attribute_values = subCategoriesIds;\n    return optionWithSubcategories;\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, CategoryConfigurableAttributes, Object.assign({}, this.props, this.containerFunctions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}, \"Component/CategoryConfigurableAttributes/Container\");\n/** #namespace Component/CategoryConfigurableAttributes/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\n\nexport const mapDispatchToProps = Mosaic.middleware(function (dispatch) {\n  return {};\n}, \"Component/CategoryConfigurableAttributes/Container/mapDispatchToProps\");\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryConfigurableAttributesContainer);","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/CategoryConfigurableAttributes/CategoryConfigurableAttributes.container.js"],"names":["connect","ProductConfigurableAttributesContainer","CategoryConfigurableAttributes","mapStateToProps","state","currency_code","ConfigReducer","currencyData","current_currency_code","show_product_count","layered_navigation_product_count_enabled","childrenCategories","CategoryReducer","category","children","containerFunctions","getSubCategories","bind","option","optionWithSubcategories","props","attribute_values","childrenCategoryIds","map","id","toString","subCategoriesIds","filter","item","includes","render","mapDispatchToProps","dispatch","CategoryConfigurableAttributesContainer"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,OAAT,QAAwB,aAAxB,C,CAEA;;AACA,OAAOC,sCAAP;AAEA,OAAOC,8BAAP;AAEA;;AACA,OAAO,MAAMC,eAAe,qBAAG,UAACC,KAAD;AAAA,SAAY;AACvCC,IAAAA,aAAa,EAAED,KAAK,CAACE,aAAN,CAAoBC,YAApB,CAAiCC,qBADT;AAEvCC,IAAAA,kBAAkB,EAAEL,KAAK,CAACE,aAAN,CAAoBI,wCAFD;AAGvCC,IAAAA,kBAAkB,EAAEP,KAAK,CAACQ,eAAN,CAAsBC,QAAtB,CAA+BC;AAHZ,GAAZ;AAAA,CAAH,uEAArB;AAMP;;;;AACA,kJAA6Db,sCAA7D,EAAoG;AAAA;AAAA;AAAA,SAChGc,kBADgG,GAC3E,EACjB,GAAG,KAAKA,kBADS;AAEjBC,MAAAA,gBAAgB,EAAE,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B;AAFD,KAD2E;AAAA;;AAMhGD,EAAAA,gBAAgB,CAACE,MAAD,EAAS;AACrB,UAAMC,uBAAuB,GAAG,EAAE,GAAGD;AAAL,KAAhC;AACA,UAAM;AAAEP,MAAAA;AAAF,QAAyB,KAAKS,KAApC;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAuBH,MAA7B;AACA,UAAMI,mBAAmB,GAAGX,kBAAkB,CAACY,GAAnB,CAAuB,UAACV,QAAD;AAAA,aAAcA,QAAQ,CAACW,EAAT,CAAYC,QAAZ,EAAd;AAAA,KAAvB,CAA5B;AACA,UAAMC,gBAAgB,GAAGL,gBAAgB,CAACM,MAAjB,CAAwB,UAACC,IAAD;AAAA,aAAUN,mBAAmB,CAACO,QAApB,CAA6BD,IAA7B,CAAV;AAAA,KAAxB,CAAzB;AACAT,IAAAA,uBAAuB,CAACE,gBAAxB,GAA2CK,gBAA3C;AAEA,WAAOP,uBAAP;AACH;;AAEDW,EAAAA,MAAM,GAAG;AACL,yCACK,8BADL,oBAEW,KAAKV,KAFhB,EAGW,KAAKL,kBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMH;;AAxB+F,CAApG;AA2BA;AACA;;AACA,OAAO,MAAMgB,kBAAkB,qBAAG,UAACC,QAAD;AAAA,SAAe,EAAf;AAAA,CAAH,0EAAxB;AAEP,eAAehC,OAAO,CAACG,eAAD,EAAkB4B,kBAAlB,CAAP,CAA6CE,uCAA7C,CAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { connect } from 'react-redux';\n\n// eslint-disable-next-line max-len\nimport ProductConfigurableAttributesContainer from 'Component/ProductConfigurableAttributes/ProductConfigurableAttributes.container';\n\nimport CategoryConfigurableAttributes from './CategoryConfigurableAttributes.component';\n\n/** @namespace Component/CategoryConfigurableAttributes/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    currency_code: state.ConfigReducer.currencyData.current_currency_code,\n    show_product_count: state.ConfigReducer.layered_navigation_product_count_enabled,\n    childrenCategories: state.CategoryReducer.category.children\n});\n\n/** @namespace Component/CategoryConfigurableAttributes/Container */\nexport class CategoryConfigurableAttributesContainer extends ProductConfigurableAttributesContainer {\n    containerFunctions = {\n        ...this.containerFunctions,\n        getSubCategories: this.getSubCategories.bind(this)\n    };\n\n    getSubCategories(option) {\n        const optionWithSubcategories = { ...option };\n        const { childrenCategories } = this.props;\n        const { attribute_values } = option;\n        const childrenCategoryIds = childrenCategories.map((category) => category.id.toString());\n        const subCategoriesIds = attribute_values.filter((item) => childrenCategoryIds.includes(item));\n        optionWithSubcategories.attribute_values = subCategoriesIds;\n\n        return optionWithSubcategories;\n    }\n\n    render() {\n        return (\n            <CategoryConfigurableAttributes\n              { ...this.props }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\n/** @namespace Component/CategoryConfigurableAttributes/Container/mapDispatchToProps */\n// eslint-disable-next-line no-unused-vars\nexport const mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryConfigurableAttributesContainer);\n"]},"metadata":{},"sourceType":"module"}