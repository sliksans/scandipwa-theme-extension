{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport { SHOW_POPUP } from \"/home/arturs/scandiweb/scandipwa/src/store/Popup/Popup.action\";\nimport { HIDE_ACTIVE_OVERLAY, TOGGLE_OVERLAY } from \"./Overlay.action\";\n/** #namespace Store/Overlay/Reducer/getInitialState */\n\nexport const getInitialState = Mosaic.middleware(function () {\n  return {\n    activeOverlay: '',\n    areOtherOverlaysOpen: false\n  };\n}, \"Store/Overlay/Reducer/getInitialState\");\n/** #namespace Store/Overlay/Reducer */\n\nexport const OverlayReducer = Mosaic.middleware(_c = function (state = getInitialState(), action) {\n  const {\n    overlayKey\n  } = action;\n  const {\n    activeOverlay: prevActiveOverlay\n  } = state;\n\n  switch (action.type) {\n    case TOGGLE_OVERLAY:\n    case SHOW_POPUP:\n      const activeOverlay = prevActiveOverlay === overlayKey ? '' : overlayKey;\n      const areOtherOverlaysOpen = prevActiveOverlay !== '';\n      return { ...state,\n        activeOverlay,\n        areOtherOverlaysOpen\n      };\n\n    case HIDE_ACTIVE_OVERLAY:\n      return { ...state,\n        activeOverlay: '',\n        areOtherOverlaysOpen: false\n      };\n\n    default:\n      return state;\n  }\n}, \"Store/Overlay/Reducer\");\n_c2 = OverlayReducer;\nexport default OverlayReducer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"OverlayReducer$\");\n$RefreshReg$(_c2, \"OverlayReducer\");","map":{"version":3,"sources":["/home/arturs/scandiweb/scandipwa/node_modules/@scandipwa/scandipwa/src/store/Overlay/Overlay.reducer.js"],"names":["SHOW_POPUP","HIDE_ACTIVE_OVERLAY","TOGGLE_OVERLAY","getInitialState","activeOverlay","areOtherOverlaysOpen","OverlayReducer","state","action","overlayKey","prevActiveOverlay","type"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,UAAT;AAEA,SACIC,mBADJ,EAEIC,cAFJ;AAKA;;AACA,OAAO,MAAMC,eAAe,qBAAG;AAAA,SAAO;AAClCC,IAAAA,aAAa,EAAE,EADmB;AAElCC,IAAAA,oBAAoB,EAAE;AAFY,GAAP;AAAA,CAAH,0CAArB;AAKP;;AACA,OAAO,MAAMC,cAAc,0BAAG,UAC1BC,KAAK,GAAGJ,eAAe,EADG,EAE1BK,MAF0B,EAGzB;AACD,QAAM;AAAEC,IAAAA;AAAF,MAAiBD,MAAvB;AACA,QAAM;AACFJ,IAAAA,aAAa,EAAEM;AADb,MAEFH,KAFJ;;AAIA,UAAQC,MAAM,CAACG,IAAf;AACA,SAAKT,cAAL;AACA,SAAKF,UAAL;AACI,YAAMI,aAAa,GAAGM,iBAAiB,KAAKD,UAAtB,GAAmC,EAAnC,GAAwCA,UAA9D;AACA,YAAMJ,oBAAoB,GAAGK,iBAAiB,KAAK,EAAnD;AAEA,aAAO,EACH,GAAGH,KADA;AAEHH,QAAAA,aAFG;AAGHC,QAAAA;AAHG,OAAP;;AAMJ,SAAKJ,mBAAL;AACI,aAAO,EACH,GAAGM,KADA;AAEHH,QAAAA,aAAa,EAAE,EAFZ;AAGHC,QAAAA,oBAAoB,EAAE;AAHnB,OAAP;;AAMJ;AACI,aAAOE,KAAP;AApBJ;AAsBH,CA/B0B,0BAApB;MAAMD,c;AAiCb,eAAeA,cAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { SHOW_POPUP } from 'Store/Popup/Popup.action';\n\nimport {\n    HIDE_ACTIVE_OVERLAY,\n    TOGGLE_OVERLAY\n} from './Overlay.action';\n\n/** @namespace Store/Overlay/Reducer/getInitialState */\nexport const getInitialState = () => ({\n    activeOverlay: '',\n    areOtherOverlaysOpen: false\n});\n\n/** @namespace Store/Overlay/Reducer */\nexport const OverlayReducer = (\n    state = getInitialState(),\n    action\n) => {\n    const { overlayKey } = action;\n    const {\n        activeOverlay: prevActiveOverlay\n    } = state;\n\n    switch (action.type) {\n    case TOGGLE_OVERLAY:\n    case SHOW_POPUP:\n        const activeOverlay = prevActiveOverlay === overlayKey ? '' : overlayKey;\n        const areOtherOverlaysOpen = prevActiveOverlay !== '';\n\n        return {\n            ...state,\n            activeOverlay,\n            areOtherOverlaysOpen\n        };\n\n    case HIDE_ACTIVE_OVERLAY:\n        return {\n            ...state,\n            activeOverlay: '',\n            areOtherOverlaysOpen: false\n        };\n\n    default:\n        return state;\n    }\n};\n\nexport default OverlayReducer;\n"]},"metadata":{},"sourceType":"module"}