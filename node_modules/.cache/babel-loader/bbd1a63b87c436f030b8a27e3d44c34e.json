{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/route/ProductPage/ProductPage.component.js\";\n\n/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-ProductReviewListtheme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport ContentWrapper from \"/home/arturs/scandiweb/extension/src/component/ContentWrapper\";\nimport ProductActions from \"/home/arturs/scandiweb/extension/src/component/ProductActions\";\nimport ProductAttributes from \"/home/arturs/scandiweb/extension/src/component/ProductAttributes\";\nimport ProductCompareButton from \"/home/arturs/scandiweb/extension/src/component/ProductCompareButton\";\nimport ProductCustomizableOptions from \"/home/arturs/scandiweb/extension/src/component/ProductCustomizableOptions\";\nimport ProductGallery from \"/home/arturs/scandiweb/extension/src/component/ProductGallery\";\nimport ProductInformation from \"/home/arturs/scandiweb/extension/src/component/ProductInformation\";\nimport ProductLinks from \"/home/arturs/scandiweb/extension/src/component/ProductLinks\";\nimport ProductReviews from \"/home/arturs/scandiweb/extension/src/component/ProductReviews\";\nimport ProductTabs from \"/home/arturs/scandiweb/extension/src/component/ProductTabs\";\nimport NoMatchHandler from \"/home/arturs/scandiweb/extension/src/route/NoMatchHandler\";\nimport { PRODUCT_ATTRIBUTES, PRODUCT_INFORMATION, PRODUCT_REVIEWS } from \"/home/arturs/scandiweb/extension/src/route/ProductPage/ProductPage.config\";\nimport { RELATED, UPSELL } from \"/home/arturs/scandiweb/extension/src/store/LinkedProducts/LinkedProducts.reducer\";\nimport { DeviceType } from \"/home/arturs/scandiweb/extension/src/type/Device\";\nimport { ProductType } from \"/home/arturs/scandiweb/extension/src/type/ProductList\";\nimport \"./ProductPage.style\";\n/** #namespace Route/ProductPage/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const ProductPage = Mosaic.middleware((_temp = _class = class ProductPage_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n    this.tabMap = {\n      [PRODUCT_INFORMATION]: {\n        name: __('About'),\n        shouldTabRender: function () {\n          const {\n            isInformationTabEmpty\n          } = _this.props;\n          return !isInformationTabEmpty;\n        },\n        render: function (key) {\n          return _this.renderProductInformationTab(key);\n        }\n      },\n      [PRODUCT_ATTRIBUTES]: {\n        name: __('Details'),\n        shouldTabRender: function () {\n          const {\n            isAttributesTabEmpty\n          } = _this.props;\n          return !isAttributesTabEmpty;\n        },\n        render: function (key) {\n          return _this.renderProductAttributesTab(key);\n        }\n      },\n      [PRODUCT_REVIEWS]: {\n        name: __('Reviews'),\n        // Return true since we always show 'Add review' button\n        shouldTabRender: function () {\n          return true;\n        },\n        render: function (key) {\n          return _this.renderProductReviewsTab(key);\n        }\n      }\n    };\n  }\n\n  renderProductCompareButton() {\n    const {\n      dataSource: {\n        id\n      } = {},\n      device: {\n        isMobile\n      } = {}\n    } = this.props;\n\n    if (!isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"ProductPage\",\n      elem: \"ProductCompareButtonWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, ProductCompareButton, {\n      productId: id,\n      mix: {\n        block: 'ProductCompareButton',\n        mods: {\n          isGrey: true\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  renderProductPageContent() {\n    const {\n      configurableVariantIndex,\n      parameters,\n      getLink,\n      dataSource,\n      updateConfigurableVariant,\n      productOrVariant,\n      areDetailsLoaded,\n      getSelectedCustomizableOptions,\n      productOptionsData,\n      setBundlePrice,\n      selectedBundlePrice,\n      selectedInitialBundlePrice,\n      selectedBundlePriceExclTax,\n      setLinkedDownloadables,\n      setLinkedDownloadablesPrice,\n      selectedLinkPrice\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, ProductGallery, {\n      product: productOrVariant,\n      areDetailsLoaded: areDetailsLoaded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), this.renderProductCompareButton(), /*#__PURE__*/_checkBEM(React, ProductActions, {\n      getLink: getLink,\n      updateConfigurableVariant: updateConfigurableVariant,\n      product: dataSource,\n      productOrVariant: productOrVariant,\n      parameters: parameters,\n      areDetailsLoaded: areDetailsLoaded,\n      configurableVariantIndex: configurableVariantIndex,\n      getSelectedCustomizableOptions: getSelectedCustomizableOptions,\n      productOptionsData: productOptionsData,\n      setBundlePrice: setBundlePrice,\n      selectedBundlePrice: selectedBundlePrice,\n      selectedInitialBundlePrice: selectedInitialBundlePrice,\n      selectedBundlePriceExclTax: selectedBundlePriceExclTax,\n      setLinkedDownloadables: setLinkedDownloadables,\n      setLinkedDownloadablesPrice: setLinkedDownloadablesPrice,\n      selectedLinkPrice: selectedLinkPrice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  renderCustomizableOptions() {\n    const {\n      dataSource: {\n        options\n      },\n      getSelectedCustomizableOptions,\n      productOptionsData,\n      device\n    } = this.props;\n\n    if (!device.isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, ProductCustomizableOptions, {\n      options: options || [],\n      getSelectedCustomizableOptions: getSelectedCustomizableOptions,\n      productOptionsData: productOptionsData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderProductInformationTab(key) {\n    const {\n      dataSource,\n      parameters,\n      areDetailsLoaded\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, ProductInformation, {\n      product: { ...dataSource,\n        parameters\n      },\n      areDetailsLoaded: areDetailsLoaded,\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderProductAttributesTab(key) {\n    const {\n      dataSource,\n      parameters,\n      areDetailsLoaded\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, ProductAttributes, {\n      product: { ...dataSource,\n        parameters\n      },\n      areDetailsLoaded: areDetailsLoaded,\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderProductReviewsTab(key) {\n    const {\n      dataSource,\n      areDetailsLoaded\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, ProductReviews, {\n      product: dataSource,\n      areDetailsLoaded: areDetailsLoaded,\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    });\n  }\n\n  shouldTabsRender() {\n    return Object.values(this.tabMap).filter(function ({\n      shouldTabRender\n    }) {\n      return shouldTabRender();\n    });\n  }\n\n  renderProductTabs() {\n    return /*#__PURE__*/_checkBEM(React, ProductTabs, {\n      tabs: this.shouldTabsRender(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderAdditionalSections() {\n    const {\n      areDetailsLoaded\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, this.renderCustomizableOptions(), this.renderProductTabs(), /*#__PURE__*/_checkBEM(React, ProductLinks, {\n      linkType: RELATED,\n      title: __('Recommended for you'),\n      areDetailsLoaded: areDetailsLoaded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/_checkBEM(React, ProductLinks, {\n      linkType: UPSELL,\n      title: __('You might also like'),\n      areDetailsLoaded: areDetailsLoaded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, NoMatchHandler, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"main\", {\n      block: \"ProductPage\",\n      \"aria-label\": \"Product page\",\n      itemScope: true,\n      itemType: \"http://schema.org/Product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, ContentWrapper, {\n      wrapperMix: {\n        block: 'ProductPage',\n        elem: 'Wrapper'\n      },\n      label: __('Main product details'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }, this.renderProductPageContent()), this.renderAdditionalSections()));\n  }\n\n}, _class.propTypes = {\n  configurableVariantIndex: PropTypes.number.isRequired,\n  productOrVariant: ProductType.isRequired,\n  getLink: PropTypes.func.isRequired,\n  parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n  updateConfigurableVariant: PropTypes.func.isRequired,\n  dataSource: ProductType.isRequired,\n  areDetailsLoaded: PropTypes.bool.isRequired,\n  getSelectedCustomizableOptions: PropTypes.func.isRequired,\n  setLinkedDownloadables: PropTypes.func.isRequired,\n  setLinkedDownloadablesPrice: PropTypes.func.isRequired,\n  productOptionsData: PropTypes.object.isRequired,\n  setBundlePrice: PropTypes.func.isRequired,\n  selectedLinkPrice: PropTypes.number.isRequired,\n  selectedBundlePrice: PropTypes.number.isRequired,\n  device: DeviceType.isRequired,\n  isInformationTabEmpty: PropTypes.bool.isRequired,\n  isAttributesTabEmpty: PropTypes.bool.isRequired,\n  selectedBundlePriceExclTax: PropTypes.number.isRequired,\n  selectedInitialBundlePrice: PropTypes.number.isRequired\n}, _temp), \"Route/ProductPage/Component\");\nexport default ProductPage;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/route/ProductPage/ProductPage.component.js"],"names":["PropTypes","PureComponent","ContentWrapper","ProductActions","ProductAttributes","ProductCompareButton","ProductCustomizableOptions","ProductGallery","ProductInformation","ProductLinks","ProductReviews","ProductTabs","NoMatchHandler","PRODUCT_ATTRIBUTES","PRODUCT_INFORMATION","PRODUCT_REVIEWS","RELATED","UPSELL","DeviceType","ProductType","tabMap","name","__","shouldTabRender","isInformationTabEmpty","props","render","key","renderProductInformationTab","isAttributesTabEmpty","renderProductAttributesTab","renderProductReviewsTab","renderProductCompareButton","dataSource","id","device","isMobile","block","mods","isGrey","renderProductPageContent","configurableVariantIndex","parameters","getLink","updateConfigurableVariant","productOrVariant","areDetailsLoaded","getSelectedCustomizableOptions","productOptionsData","setBundlePrice","selectedBundlePrice","selectedInitialBundlePrice","selectedBundlePriceExclTax","setLinkedDownloadables","setLinkedDownloadablesPrice","selectedLinkPrice","renderCustomizableOptions","options","shouldTabsRender","Object","values","filter","renderProductTabs","renderAdditionalSections","elem","propTypes","number","isRequired","func","objectOf","string","bool","object","ProductPage"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-ProductReviewListtheme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ProductActions from 'Component/ProductActions';\nimport ProductAttributes from 'Component/ProductAttributes';\nimport ProductCompareButton from 'Component/ProductCompareButton';\nimport ProductCustomizableOptions from 'Component/ProductCustomizableOptions';\nimport ProductGallery from 'Component/ProductGallery';\nimport ProductInformation from 'Component/ProductInformation';\nimport ProductLinks from 'Component/ProductLinks';\nimport ProductReviews from 'Component/ProductReviews';\nimport ProductTabs from 'Component/ProductTabs';\nimport NoMatchHandler from 'Route/NoMatchHandler';\nimport {\n    PRODUCT_ATTRIBUTES,\n    PRODUCT_INFORMATION,\n    PRODUCT_REVIEWS\n} from 'Route/ProductPage/ProductPage.config';\nimport { RELATED, UPSELL } from 'Store/LinkedProducts/LinkedProducts.reducer';\nimport { DeviceType } from 'Type/Device';\nimport { ProductType } from 'Type/ProductList';\n\nimport './ProductPage.style';\n\n/** @namespace Route/ProductPage/Component */\nexport class ProductPage extends PureComponent {\n    static propTypes = {\n        configurableVariantIndex: PropTypes.number.isRequired,\n        productOrVariant: ProductType.isRequired,\n        getLink: PropTypes.func.isRequired,\n        parameters: PropTypes.objectOf(PropTypes.string).isRequired,\n        updateConfigurableVariant: PropTypes.func.isRequired,\n        dataSource: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool.isRequired,\n        getSelectedCustomizableOptions: PropTypes.func.isRequired,\n        setLinkedDownloadables: PropTypes.func.isRequired,\n        setLinkedDownloadablesPrice: PropTypes.func.isRequired,\n        productOptionsData: PropTypes.object.isRequired,\n        setBundlePrice: PropTypes.func.isRequired,\n        selectedLinkPrice: PropTypes.number.isRequired,\n        selectedBundlePrice: PropTypes.number.isRequired,\n        device: DeviceType.isRequired,\n        isInformationTabEmpty: PropTypes.bool.isRequired,\n        isAttributesTabEmpty: PropTypes.bool.isRequired,\n        selectedBundlePriceExclTax: PropTypes.number.isRequired,\n        selectedInitialBundlePrice: PropTypes.number.isRequired\n    };\n\n    tabMap = {\n        [PRODUCT_INFORMATION]: {\n            name: __('About'),\n            shouldTabRender: () => {\n                const { isInformationTabEmpty } = this.props;\n                return !isInformationTabEmpty;\n            },\n            render: (key) => this.renderProductInformationTab(key)\n        },\n        [PRODUCT_ATTRIBUTES]: {\n            name: __('Details'),\n            shouldTabRender: () => {\n                const { isAttributesTabEmpty } = this.props;\n                return !isAttributesTabEmpty;\n            },\n            render: (key) => this.renderProductAttributesTab(key)\n        },\n        [PRODUCT_REVIEWS]: {\n            name: __('Reviews'),\n            // Return true since we always show 'Add review' button\n            shouldTabRender: () => true,\n            render: (key) => this.renderProductReviewsTab(key)\n        }\n    };\n\n    renderProductCompareButton() {\n        const {\n            dataSource: { id } = {},\n            device: { isMobile } = {}\n        } = this.props;\n\n        if (!isMobile) {\n            return null;\n        }\n\n        return (\n            <div block=\"ProductPage\" elem=\"ProductCompareButtonWrapper\">\n                <ProductCompareButton\n                  productId={ id }\n                  mix={ {\n                      block: 'ProductCompareButton',\n                      mods: { isGrey: true }\n                  } }\n                />\n            </div>\n        );\n    }\n\n    renderProductPageContent() {\n        const {\n            configurableVariantIndex,\n            parameters,\n            getLink,\n            dataSource,\n            updateConfigurableVariant,\n            productOrVariant,\n            areDetailsLoaded,\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            setBundlePrice,\n            selectedBundlePrice,\n            selectedInitialBundlePrice,\n            selectedBundlePriceExclTax,\n            setLinkedDownloadables,\n            setLinkedDownloadablesPrice,\n            selectedLinkPrice\n        } = this.props;\n\n        return (\n            <>\n                <ProductGallery\n                  product={ productOrVariant }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                { this.renderProductCompareButton() }\n                <ProductActions\n                  getLink={ getLink }\n                  updateConfigurableVariant={ updateConfigurableVariant }\n                  product={ dataSource }\n                  productOrVariant={ productOrVariant }\n                  parameters={ parameters }\n                  areDetailsLoaded={ areDetailsLoaded }\n                  configurableVariantIndex={ configurableVariantIndex }\n                  getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n                  productOptionsData={ productOptionsData }\n                  setBundlePrice={ setBundlePrice }\n                  selectedBundlePrice={ selectedBundlePrice }\n                  selectedInitialBundlePrice={ selectedInitialBundlePrice }\n                  selectedBundlePriceExclTax={ selectedBundlePriceExclTax }\n                  setLinkedDownloadables={ setLinkedDownloadables }\n                  setLinkedDownloadablesPrice={ setLinkedDownloadablesPrice }\n                  selectedLinkPrice={ selectedLinkPrice }\n                />\n            </>\n        );\n    }\n\n    renderCustomizableOptions() {\n        const {\n            dataSource: { options },\n            getSelectedCustomizableOptions,\n            productOptionsData,\n            device\n        } = this.props;\n\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return (\n            <ProductCustomizableOptions\n              options={ options || [] }\n              getSelectedCustomizableOptions={ getSelectedCustomizableOptions }\n              productOptionsData={ productOptionsData }\n            />\n        );\n    }\n\n    renderProductInformationTab(key) {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductInformation\n              product={ { ...dataSource, parameters } }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    renderProductAttributesTab(key) {\n        const {\n            dataSource,\n            parameters,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductAttributes\n              product={ { ...dataSource, parameters } }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    renderProductReviewsTab(key) {\n        const {\n            dataSource,\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <ProductReviews\n              product={ dataSource }\n              areDetailsLoaded={ areDetailsLoaded }\n              key={ key }\n            />\n        );\n    }\n\n    shouldTabsRender() {\n        return Object.values(this.tabMap).filter(({ shouldTabRender }) => shouldTabRender());\n    }\n\n    renderProductTabs() {\n        return (\n            <ProductTabs tabs={ this.shouldTabsRender() } />\n        );\n    }\n\n    renderAdditionalSections() {\n        const {\n            areDetailsLoaded\n        } = this.props;\n\n        return (\n            <>\n                { this.renderCustomizableOptions() }\n                { this.renderProductTabs() }\n                <ProductLinks\n                  linkType={ RELATED }\n                  title={ __('Recommended for you') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n                <ProductLinks\n                  linkType={ UPSELL }\n                  title={ __('You might also like') }\n                  areDetailsLoaded={ areDetailsLoaded }\n                />\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <NoMatchHandler>\n                <main\n                  block=\"ProductPage\"\n                  aria-label=\"Product page\"\n                  itemScope\n                  itemType=\"http://schema.org/Product\"\n                >\n                    <ContentWrapper\n                      wrapperMix={ { block: 'ProductPage', elem: 'Wrapper' } }\n                      label={ __('Main product details') }\n                    >\n                        { this.renderProductPageContent() }\n                    </ContentWrapper>\n                    { this.renderAdditionalSections() }\n                </main>\n            </NoMatchHandler>\n        );\n    }\n}\n\nexport default ProductPage;\n"]},"metadata":{},"sourceType":"module"}