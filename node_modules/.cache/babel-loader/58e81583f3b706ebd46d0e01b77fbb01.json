{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport ProductListQuery from \"/home/arturs/scandiweb/extension/src/query/ProductList.query\";\nimport { isSignedIn } from \"/home/arturs/scandiweb/extension/src/util/Auth\";\nimport { getGuestQuoteId } from \"/home/arturs/scandiweb/extension/src/util/Cart\";\nimport { Field } from \"/home/arturs/scandiweb/extension/src/util/Query\";\n/** #namespace Query/Wishlist */\n\nexport const WishlistQuery = Mosaic.middleware(class WishlistQuery_ extends Mosaic.Extensible() {\n  getWishlistQuery(sharingCode) {\n    const field = new Field('s_wishlist').setAlias('wishlist').addFieldList(this._getWishlistFields());\n\n    if (sharingCode) {\n      field.addArgument('sharing_code', 'ID', sharingCode);\n    }\n\n    return field;\n  }\n\n  getSaveWishlistItemMutation(wishlistItem) {\n    return new Field('s_saveWishlistItem').setAlias('saveWishlistItem').addArgument('wishlistItem', 'WishlistItemInput!', wishlistItem).addFieldList(this._getWishlistItemsFields());\n  }\n\n  getShareWishlistMutation(input) {\n    return new Field('s_shareWishlist').setAlias('shareWishlist').addArgument('input', 'ShareWishlistInput!', input);\n  }\n\n  getClearWishlist() {\n    return new Field('s_clearWishlist').setAlias('clearWishlist');\n  }\n\n  getMoveWishlistToCart(sharingCode) {\n    const field = new Field('s_moveWishlistToCart').setAlias('moveWishlistToCart');\n\n    if (sharingCode) {\n      field.addArgument('sharingCode', 'ID', sharingCode);\n\n      if (!isSignedIn()) {\n        const guestQuoteId = getGuestQuoteId();\n        field.addArgument('guestCartId', 'ID', guestQuoteId);\n      }\n    }\n\n    return field;\n  }\n\n  getRemoveProductFromWishlistMutation(item_id) {\n    return new Field('s_removeProductFromWishlist').setAlias('removeProductFromWishlist').addArgument('itemId', 'ID!', item_id);\n  }\n\n  _getWishlistFields() {\n    return ['updated_at', 'items_count', 'creators_name', this._getItemsField()];\n  }\n\n  _getItemOptionsFields() {\n    return ['label', 'value'];\n  }\n\n  _getItemOptionsField() {\n    return new Field('options').addFieldList(this._getItemOptionsFields());\n  }\n\n  _getWishlistItemsFields() {\n    return ['id', 'sku', 'qty', 'description', 'price', 'price_without_tax', 'buy_request', this._getItemOptionsField()];\n  }\n\n  _getItemsFields() {\n    return [...this._getWishlistItemsFields(), this._getProductField()];\n  }\n\n  _getProductField() {\n    return new Field('product').addFieldList(ProductListQuery._getProductInterfaceFields());\n  }\n\n  _getItemsField() {\n    return new Field('items').addFieldList(this._getItemsFields());\n  }\n\n}, \"Query/Wishlist\");\nexport default new WishlistQuery();","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/query/Wishlist.query.js"],"names":["ProductListQuery","isSignedIn","getGuestQuoteId","Field","getWishlistQuery","sharingCode","field","setAlias","addFieldList","_getWishlistFields","addArgument","getSaveWishlistItemMutation","wishlistItem","_getWishlistItemsFields","getShareWishlistMutation","input","getClearWishlist","getMoveWishlistToCart","guestQuoteId","getRemoveProductFromWishlistMutation","item_id","_getItemsField","_getItemOptionsFields","_getItemOptionsField","_getItemsFields","_getProductField","_getProductInterfaceFields","WishlistQuery"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport ProductListQuery from 'Query/ProductList.query';\nimport { isSignedIn } from 'Util/Auth';\nimport { getGuestQuoteId } from 'Util/Cart';\nimport { Field } from 'Util/Query';\n\n/** @namespace Query/Wishlist */\nexport class WishlistQuery {\n    getWishlistQuery(sharingCode) {\n        const field = new Field('s_wishlist')\n            .setAlias('wishlist')\n            .addFieldList(this._getWishlistFields());\n\n        if (sharingCode) {\n            field.addArgument('sharing_code', 'ID', sharingCode);\n        }\n\n        return field;\n    }\n\n    getSaveWishlistItemMutation(wishlistItem) {\n        return new Field('s_saveWishlistItem')\n            .setAlias('saveWishlistItem')\n            .addArgument('wishlistItem', 'WishlistItemInput!', wishlistItem)\n            .addFieldList(this._getWishlistItemsFields());\n    }\n\n    getShareWishlistMutation(input) {\n        return new Field('s_shareWishlist')\n            .setAlias('shareWishlist')\n            .addArgument('input', 'ShareWishlistInput!', input);\n    }\n\n    getClearWishlist() {\n        return new Field('s_clearWishlist')\n            .setAlias('clearWishlist');\n    }\n\n    getMoveWishlistToCart(sharingCode) {\n        const field = new Field('s_moveWishlistToCart')\n            .setAlias('moveWishlistToCart');\n\n        if (sharingCode) {\n            field.addArgument('sharingCode', 'ID', sharingCode);\n\n            if (!isSignedIn()) {\n                const guestQuoteId = getGuestQuoteId();\n                field.addArgument('guestCartId', 'ID', guestQuoteId);\n            }\n        }\n\n        return field;\n    }\n\n    getRemoveProductFromWishlistMutation(item_id) {\n        return new Field('s_removeProductFromWishlist')\n            .setAlias('removeProductFromWishlist')\n            .addArgument('itemId', 'ID!', item_id);\n    }\n\n    _getWishlistFields() {\n        return [\n            'updated_at',\n            'items_count',\n            'creators_name',\n            this._getItemsField()\n        ];\n    }\n\n    _getItemOptionsFields() {\n        return [\n            'label',\n            'value'\n        ];\n    }\n\n    _getItemOptionsField() {\n        return new Field('options')\n            .addFieldList(this._getItemOptionsFields());\n    }\n\n    _getWishlistItemsFields() {\n        return [\n            'id',\n            'sku',\n            'qty',\n            'description',\n            'price',\n            'price_without_tax',\n            'buy_request',\n            this._getItemOptionsField()\n        ];\n    }\n\n    _getItemsFields() {\n        return [\n            ...this._getWishlistItemsFields(),\n            this._getProductField()\n        ];\n    }\n\n    _getProductField() {\n        return new Field('product')\n            .addFieldList(ProductListQuery._getProductInterfaceFields());\n    }\n\n    _getItemsField() {\n        return new Field('items')\n            .addFieldList(this._getItemsFields());\n    }\n}\n\nexport default new WishlistQuery();\n"]},"metadata":{},"sourceType":"module"}