{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/WishlistItem/WishlistItem.component.js\";\n\n/* eslint-disable jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport Field from \"/home/arturs/scandiweb/extension/src/component/Field\";\nimport ProductCard from \"/home/arturs/scandiweb/extension/src/component/ProductCard\";\nimport { ProductType } from \"/home/arturs/scandiweb/extension/src/type/ProductList\";\nimport { BUNDLE, GROUPED } from \"/home/arturs/scandiweb/extension/src/util/Product\";\nimport \"./WishlistItem.style\";\n/** #namespace Component/WishlistItem/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const WishlistItem = Mosaic.middleware((_temp = _class = class WishlistItem_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.renderOption = function (option) {\n      const {\n        label,\n        value\n      } = option;\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"WishlistItemOption\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/_checkBEM(React, \"span\", {\n        block: \"WishlistItemOption\",\n        elem: \"Label\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }\n      }, label, \":\"), /*#__PURE__*/_checkBEM(React, \"span\", {\n        block: \"WishlistItemOption\",\n        elem: \"Value\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }\n      }, value));\n    };\n\n    this.renderContent = function (renderMethods) {\n      const {\n        content: {\n          productPrice\n        },\n        pictureBlock: {\n          picture: renderPicture\n        },\n        renderCardLinkWrapper\n      } = renderMethods;\n      const {\n        isMobile\n      } = _this.props;\n\n      if (isMobile) {\n        return _this.renderContentMobile(renderMethods);\n      }\n\n      return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"WishlistItem\",\n        elem: \"FigureWrapper\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 17\n        }\n      }, renderCardLinkWrapper( /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"figure\", {\n        mix: {\n          block: 'ProductCard',\n          elem: 'Figure'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 29\n        }\n      }, renderPicture({\n        block: 'WishlistItem',\n        elem: 'Picture'\n      })), _this.renderName(), _this.renderAttributes())), _this.renderRemove()), _this.renderOptions(), /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"WishlistItem\",\n        elem: \"Content\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"WishlistItem\",\n        elem: \"RowWrapper\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }\n      }, _this.renderQuantityField(), _this.renderPrice(productPrice)), _this.renderDescription(), _this.renderAddToCartButton()));\n    };\n  }\n\n  renderDescription() {\n    const {\n      product: {\n        wishlist: {\n          description\n        }\n      },\n      changeDescription,\n      isMobile\n    } = this.props;\n    const {\n      isEditingActive\n    } = this.props;\n\n    if (!description && !isEditingActive && isMobile) {\n      return null;\n    }\n\n    const isDisabled = isMobile && !isEditingActive;\n    const mods = isMobile ? {\n      isNotEditingActive: !isEditingActive,\n      isEmpty: !description\n    } : {};\n    return /*#__PURE__*/_checkBEM(React, Field, {\n      id: \"description\",\n      name: \"description\",\n      type: \"textarea\",\n      rows: 3,\n      value: description,\n      mix: {\n        block: 'WishlistItem',\n        elem: 'CommentField',\n        mods\n      },\n      placeholder: __('Add a comment'),\n      isDisabled: isDisabled,\n      onChange: changeDescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderQuantityFieldInput() {\n    const {\n      product: {\n        wishlist: {\n          quantity\n        }\n      },\n      changeQuantity\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, Field, {\n      id: \"item_qty\",\n      name: \"item_qty\",\n      type: \"number\",\n      min: 1,\n      value: quantity,\n      mix: {\n        block: 'WishlistItem',\n        elem: 'QuantityInput',\n        mix: {\n          block: 'Field',\n          mods: {\n            style: 'inline'\n          }\n        }\n      },\n      onChange: changeQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderQuantityField() {\n    const {\n      product: {\n        wishlist: {\n          quantity\n        }\n      },\n      isEditingActive,\n      isMobile\n    } = this.props;\n\n    if (!isMobile) {\n      return this.renderQuantityFieldInput();\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"QuantityWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"span\", {\n      block: \"WishlistItem\",\n      elem: \"QuantityText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, __('Qty:')), isEditingActive ? this.renderQuantityFieldInput() : quantity);\n  }\n\n  renderAddToCartButton() {\n    const {\n      addToCart,\n      isEditingActive,\n      isMobile\n    } = this.props;\n    const mods = isMobile ? {\n      isEditingActive\n    } : {};\n    return /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"Button\",\n      mods: {\n        isHollow: isMobile\n      },\n      mix: {\n        block: 'WishlistItem',\n        elem: 'AddToCart',\n        mods\n      },\n      onClick: addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, __('Add to cart'));\n  }\n\n  renderRemove() {\n    const {\n      removeItem\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"WishlistItem\",\n      elem: \"Remove\",\n      onClick: removeItem,\n      \"aria-label\": __('Remove'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    });\n  }\n\n  getWishlistProduct() {\n    const {\n      product,\n      product: {\n        url,\n        type_id\n      }\n    } = this.props;\n\n    if (type_id !== 'configurable') {\n      return product;\n    }\n\n    const wishedVariant = product.variants.find(function ({\n      sku\n    }) {\n      return sku === product.wishlist.sku;\n    });\n\n    if (!wishedVariant) {\n      return { ...product,\n        url\n      };\n    }\n\n    return { ...wishedVariant,\n      url\n    };\n  }\n\n  renderOptionsList() {\n    const {\n      product: {\n        wishlist: {\n          options\n        }\n      }\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItemOptions\",\n      elem: \"List\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, options.map(this.renderOption));\n  }\n\n  renderOptions() {\n    const {\n      product: {\n        wishlist: {\n          options = []\n        },\n        type_id\n      }\n    } = this.props;\n\n    if (options.length === 0 || type_id !== BUNDLE && type_id !== GROUPED) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItemOptions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, this.renderOptionsList());\n  }\n\n  renderName() {\n    const {\n      product: {\n        name\n      }\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }, name);\n  }\n\n  renderPrice(productPrice) {\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"Price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    }, productPrice());\n  }\n\n  renderAttributes() {\n    var _this2 = this;\n\n    const {\n      attributes\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"AttributeWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, attributes.map(function (attr) {\n      return /*#__PURE__*/_checkBEM(React, \"span\", {\n        mix: {\n          block: 'ProductAttribute'\n        },\n        key: attr,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }\n      }, attr);\n    }));\n  }\n\n  renderSelectCheckbox() {\n    const {\n      product: {\n        wishlist: {\n          id\n        }\n      },\n      handleSelectIdChange,\n      isEditingActive\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"Select\",\n      mods: {\n        isEditingActive\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, Field, {\n      type: \"checkbox\",\n      id: `option-${id}`,\n      name: `option-${id}` // eslint-disable-next-line react/jsx-no-bind\n      ,\n      onClick: function () {\n        return handleSelectIdChange(id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  renderContentMobile({\n    content: {\n      productPrice\n    },\n    pictureBlock: {\n      picture: renderPicture\n    },\n    renderCardLinkWrapper\n  }) {\n    const {\n      isEditingActive\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"SelectWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }\n    }, this.renderSelectCheckbox(), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"ContentWrapper\",\n      mods: {\n        isEditingActive\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }\n    }, renderCardLinkWrapper( /*#__PURE__*/_checkBEM(React, \"figure\", {\n      mix: {\n        block: 'ProductCard',\n        elem: 'Figure'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 29\n      }\n    }, renderPicture({\n      block: 'WishlistItem',\n      elem: 'Picture'\n    })), {\n      block: 'WishlistItem',\n      elem: 'ImageWrapper'\n    }), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"Content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 25\n      }\n    }, this.renderName(), this.renderAttributes(), this.renderQuantityField(), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"WishlistItem\",\n      elem: \"RowWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 29\n      }\n    }, this.renderPrice(productPrice), this.renderAddToCartButton())))), this.renderDescription());\n  }\n\n  render() {\n    const {\n      isLoading,\n      isRemoving\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, ProductCard, {\n      product: this.getWishlistProduct(),\n      mix: {\n        block: 'WishlistItem',\n        elem: 'ProductCard'\n      },\n      isLoading: isLoading || isRemoving,\n      renderContent: this.renderContent,\n      hideWishlistButton: true,\n      hideCompareButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 13\n      }\n    });\n  }\n\n}, _class.propTypes = {\n  addToCart: PropTypes.func,\n  changeQuantity: PropTypes.func,\n  product: ProductType.isRequired,\n  changeDescription: PropTypes.func,\n  removeItem: PropTypes.func,\n  isLoading: PropTypes.bool,\n  isRemoving: PropTypes.bool,\n  isMobile: PropTypes.bool.isRequired,\n  isEditingActive: PropTypes.bool.isRequired,\n  attributes: PropTypes.array.isRequired,\n  handleSelectIdChange: PropTypes.func.isRequired\n}, _class.defaultProps = {\n  addToCart: function () {},\n  changeQuantity: function () {},\n  changeDescription: function () {},\n  removeItem: function () {},\n  isLoading: false,\n  isRemoving: false\n}, _temp), \"Component/WishlistItem/Component\");\nexport default WishlistItem;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/WishlistItem/WishlistItem.component.js"],"names":["PropTypes","PureComponent","Field","ProductCard","ProductType","BUNDLE","GROUPED","renderOption","option","label","value","renderContent","renderMethods","content","productPrice","pictureBlock","picture","renderPicture","renderCardLinkWrapper","isMobile","props","renderContentMobile","block","elem","renderName","renderAttributes","renderRemove","renderOptions","renderQuantityField","renderPrice","renderDescription","renderAddToCartButton","product","wishlist","description","changeDescription","isEditingActive","isDisabled","mods","isNotEditingActive","isEmpty","__","renderQuantityFieldInput","quantity","changeQuantity","mix","style","addToCart","isHollow","removeItem","getWishlistProduct","url","type_id","wishedVariant","variants","find","sku","renderOptionsList","options","map","length","name","attributes","attr","renderSelectCheckbox","id","handleSelectIdChange","render","isLoading","isRemoving","propTypes","func","isRequired","bool","array","defaultProps","WishlistItem"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Field from 'Component/Field';\nimport ProductCard from 'Component/ProductCard';\nimport { ProductType } from 'Type/ProductList';\nimport { BUNDLE, GROUPED } from 'Util/Product';\n\nimport './WishlistItem.style';\n\n/** @namespace Component/WishlistItem/Component */\nexport class WishlistItem extends PureComponent {\n    static propTypes = {\n        addToCart: PropTypes.func,\n        changeQuantity: PropTypes.func,\n        product: ProductType.isRequired,\n        changeDescription: PropTypes.func,\n        removeItem: PropTypes.func,\n        isLoading: PropTypes.bool,\n        isRemoving: PropTypes.bool,\n        isMobile: PropTypes.bool.isRequired,\n        isEditingActive: PropTypes.bool.isRequired,\n        attributes: PropTypes.array.isRequired,\n        handleSelectIdChange: PropTypes.func.isRequired\n    };\n\n    static defaultProps = {\n        addToCart: () => {},\n        changeQuantity: () => {},\n        changeDescription: () => {},\n        removeItem: () => {},\n        isLoading: false,\n        isRemoving: false\n    };\n\n    renderDescription() {\n        const {\n            product: { wishlist: { description } },\n            changeDescription,\n            isMobile\n        } = this.props;\n        const { isEditingActive } = this.props;\n\n        if (!description && !isEditingActive && isMobile) {\n            return null;\n        }\n\n        const isDisabled = isMobile && !isEditingActive;\n        const mods = isMobile\n            ? {\n                isNotEditingActive: !isEditingActive,\n                isEmpty: !description\n            }\n            : {};\n\n        return (\n            <Field\n              id=\"description\"\n              name=\"description\"\n              type=\"textarea\"\n              rows={ 3 }\n              value={ description }\n              mix={ { block: 'WishlistItem', elem: 'CommentField', mods } }\n              placeholder={ __('Add a comment') }\n              isDisabled={ isDisabled }\n              onChange={ changeDescription }\n            />\n        );\n    }\n\n    renderQuantityFieldInput() {\n        const {\n            product: { wishlist: { quantity } },\n            changeQuantity\n        } = this.props;\n\n        return (\n            <Field\n              id=\"item_qty\"\n              name=\"item_qty\"\n              type=\"number\"\n              min={ 1 }\n              value={ quantity }\n              mix={ {\n                  block: 'WishlistItem',\n                  elem: 'QuantityInput',\n                  mix: { block: 'Field', mods: { style: 'inline' } }\n              } }\n              onChange={ changeQuantity }\n            />\n        );\n    }\n\n    renderQuantityField() {\n        const {\n            product: { wishlist: { quantity } },\n            isEditingActive,\n            isMobile\n        } = this.props;\n\n        if (!isMobile) {\n            return this.renderQuantityFieldInput();\n        }\n\n        return (\n            <div block=\"WishlistItem\" elem=\"QuantityWrapper\">\n                <span block=\"WishlistItem\" elem=\"QuantityText\">{ __('Qty:') }</span>\n                { isEditingActive\n                    ? this.renderQuantityFieldInput()\n                    : quantity }\n            </div>\n        );\n    }\n\n    renderAddToCartButton() {\n        const {\n            addToCart,\n            isEditingActive,\n            isMobile\n        } = this.props;\n\n        const mods = isMobile ? { isEditingActive } : {};\n\n        return (\n            <button\n              block=\"Button\"\n              mods={ { isHollow: isMobile } }\n              mix={ { block: 'WishlistItem', elem: 'AddToCart', mods } }\n              onClick={ addToCart }\n            >\n                { __('Add to cart') }\n            </button>\n        );\n    }\n\n    renderRemove() {\n        const { removeItem } = this.props;\n\n        return (\n            <button\n              block=\"WishlistItem\"\n              elem=\"Remove\"\n              onClick={ removeItem }\n              aria-label={ __('Remove') }\n            />\n        );\n    }\n\n    getWishlistProduct() {\n        const {\n            product,\n            product: { url, type_id }\n        } = this.props;\n\n        if (type_id !== 'configurable') {\n            return product;\n        }\n\n        const wishedVariant = product.variants.find(({ sku }) => sku === product.wishlist.sku);\n\n        if (!wishedVariant) {\n            return {\n                ...product,\n                url\n            };\n        }\n\n        return {\n            ...wishedVariant,\n            url\n        };\n    }\n\n    renderOption = (option) => {\n        const { label, value } = option;\n\n        return (\n            <div block=\"WishlistItemOption\">\n                <span block=\"WishlistItemOption\" elem=\"Label\">\n                    { label }\n                    :\n                </span>\n                <span block=\"WishlistItemOption\" elem=\"Value\">\n                    { value }\n                </span>\n            </div>\n        );\n    };\n\n    renderOptionsList() {\n        const { product: { wishlist: { options } } } = this.props;\n\n        return (\n            <div block=\"WishlistItemOptions\" elem=\"List\">\n                { options.map(this.renderOption) }\n            </div>\n        );\n    }\n\n    renderOptions() {\n        const { product: { wishlist: { options = [] }, type_id } } = this.props;\n\n        if (\n            options.length === 0\n            || (type_id !== BUNDLE && type_id !== GROUPED)\n        ) {\n            return null;\n        }\n\n        return (\n            <div block=\"WishlistItemOptions\">\n                { this.renderOptionsList() }\n            </div>\n        );\n    }\n\n    renderName() {\n        const { product: { name } } = this.props;\n\n        return (\n            <span>{ name }</span>\n        );\n    }\n\n    renderPrice(productPrice) {\n        return (\n            <div\n              block=\"WishlistItem\"\n              elem=\"Price\"\n            >\n                { productPrice() }\n            </div>\n        );\n    }\n\n    renderAttributes() {\n        const { attributes } = this.props;\n\n        return (\n            <div block=\"WishlistItem\" elem=\"AttributeWrapper\">\n                { attributes.map((attr) => (\n                    <span mix={ { block: 'ProductAttribute' } } key={ attr }>\n                        { attr }\n                    </span>\n                )) }\n            </div>\n        );\n    }\n\n    renderSelectCheckbox() {\n        const { product: { wishlist: { id } }, handleSelectIdChange, isEditingActive } = this.props;\n\n        return (\n            <div block=\"WishlistItem\" elem=\"Select\" mods={ { isEditingActive } }>\n                <Field\n                  type=\"checkbox\"\n                  id={ `option-${ id }` }\n                  name={ `option-${ id }` }\n                  // eslint-disable-next-line react/jsx-no-bind\n                  onClick={ () => handleSelectIdChange(id) }\n                />\n            </div>\n        );\n    }\n\n    renderContentMobile({\n        content: { productPrice },\n        pictureBlock: { picture: renderPicture },\n        renderCardLinkWrapper\n    }) {\n        const { isEditingActive } = this.props;\n\n        return (\n            <>\n                <div block=\"WishlistItem\" elem=\"SelectWrapper\">\n                    { this.renderSelectCheckbox() }\n                    <div block=\"WishlistItem\" elem=\"ContentWrapper\" mods={ { isEditingActive } }>\n                        { renderCardLinkWrapper((\n                            <figure mix={ { block: 'ProductCard', elem: 'Figure' } }>\n                                { renderPicture({ block: 'WishlistItem', elem: 'Picture' }) }\n                            </figure>\n                        ), { block: 'WishlistItem', elem: 'ImageWrapper' }) }\n                        <div block=\"WishlistItem\" elem=\"Content\">\n                            { this.renderName() }\n                            { this.renderAttributes() }\n                            { this.renderQuantityField() }\n                            <div block=\"WishlistItem\" elem=\"RowWrapper\">\n                                { this.renderPrice(productPrice) }\n                                { this.renderAddToCartButton() }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                { this.renderDescription() }\n            </>\n        );\n    }\n\n    renderContent = (renderMethods) => {\n        const {\n            content: { productPrice },\n            pictureBlock: { picture: renderPicture },\n            renderCardLinkWrapper\n        } = renderMethods;\n\n        const { isMobile } = this.props;\n\n        if (isMobile) {\n            return this.renderContentMobile(renderMethods);\n        }\n\n        return (\n            <>\n                <div block=\"WishlistItem\" elem=\"FigureWrapper\">\n                    { renderCardLinkWrapper(\n                        <>\n                            <figure mix={ { block: 'ProductCard', elem: 'Figure' } }>\n                                { renderPicture({ block: 'WishlistItem', elem: 'Picture' }) }\n                            </figure>\n                            { this.renderName() }\n                            { this.renderAttributes() }\n                        </>\n                    ) }\n                    { this.renderRemove() }\n                </div>\n                { this.renderOptions() }\n                <div block=\"WishlistItem\" elem=\"Content\">\n                    <div block=\"WishlistItem\" elem=\"RowWrapper\">\n                        { this.renderQuantityField() }\n                        { this.renderPrice(productPrice) }\n                    </div>\n                    { this.renderDescription() }\n                    { this.renderAddToCartButton() }\n                </div>\n            </>\n        );\n    };\n\n    render() {\n        const { isLoading, isRemoving } = this.props;\n\n        return (\n            <ProductCard\n              product={ this.getWishlistProduct() }\n              mix={ { block: 'WishlistItem', elem: 'ProductCard' } }\n              isLoading={ isLoading || isRemoving }\n              renderContent={ this.renderContent }\n              hideWishlistButton\n              hideCompareButton\n            />\n        );\n    }\n}\n\nexport default WishlistItem;\n"]},"metadata":{},"sourceType":"module"}