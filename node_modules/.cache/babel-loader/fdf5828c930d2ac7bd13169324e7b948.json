{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/route/CartPage/CartPage.component.js\";\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport CartCoupon from \"/home/arturs/scandiweb/extension/src/component/CartCoupon\";\nimport CartItem from \"/home/arturs/scandiweb/extension/src/component/CartItem\";\nimport CmsBlock from \"/home/arturs/scandiweb/extension/src/component/CmsBlock\";\nimport ContentWrapper from \"/home/arturs/scandiweb/extension/src/component/ContentWrapper\";\nimport ExpandableContent from \"/home/arturs/scandiweb/extension/src/component/ExpandableContent\";\nimport Link from \"/home/arturs/scandiweb/extension/src/component/Link\";\nimport ProductLinks from \"/home/arturs/scandiweb/extension/src/component/ProductLinks\";\nimport { CROSS_SELL } from \"/home/arturs/scandiweb/extension/src/store/LinkedProducts/LinkedProducts.reducer\";\nimport { TotalsType } from \"/home/arturs/scandiweb/extension/src/type/MiniCart\";\nimport { formatPrice } from \"/home/arturs/scandiweb/extension/src/util/Price\";\nimport \"./CartPage.style\";\n/** #namespace Route/CartPage/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const CartPage = Mosaic.middleware((_temp = _class = class CartPage_ extends Mosaic.Extensible(PureComponent) {\n  renderCartItems() {\n    var _this = this;\n\n    const {\n      totals: {\n        items,\n        quote_currency_code\n      }\n    } = this.props;\n\n    if (!items || items.length < 1) {\n      return /*#__PURE__*/_checkBEM(React, \"p\", {\n        block: \"CartPage\",\n        elem: \"Empty\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, __('There are no products in cart.'));\n    }\n\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"p\", {\n      block: \"CartPage\",\n      elem: \"TableHead\",\n      \"aria-hidden\": true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, __('item')), /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, __('qty')), /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, __('subtotal'))), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartPage\",\n      elem: \"Items\",\n      \"aria-label\": \"List of items in cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, items.map(function (item) {\n      return /*#__PURE__*/_checkBEM(React, CartItem, {\n        key: item.item_id,\n        item: item,\n        currency_code: quote_currency_code,\n        isEditing: true,\n        isLikeTable: true,\n        updateCrossSellsOnRemove: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      });\n    })));\n  }\n\n  renderDiscountCode() {\n    const {\n      totals: {\n        coupon_code\n      }\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, ExpandableContent, {\n      heading: __('Have a discount code?'),\n      mix: {\n        block: 'CartPage',\n        elem: 'Discount'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, CartCoupon, {\n      couponCode: coupon_code,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  renderPriceLine(price) {\n    const {\n      totals: {\n        quote_currency_code\n      }\n    } = this.props;\n    return formatPrice(price, quote_currency_code);\n  }\n\n  renderSubTotal() {\n    const {\n      cartSubtotal\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"dt\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, __('Subtotal:')), /*#__PURE__*/_checkBEM(React, \"dd\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, this.renderPriceLine(cartSubtotal), this.renderSubTotalExlTax()));\n  }\n\n  renderSubTotalExlTax() {\n    const {\n      cartSubtotalSubPrice\n    } = this.props;\n\n    if (!cartSubtotalSubPrice) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, `${__('Excl. tax:')} ${this.renderPriceLine(cartSubtotalSubPrice)}`);\n  }\n\n  renderTaxFullSummary() {\n    var _this2 = this;\n\n    const {\n      totals: {\n        applied_taxes = []\n      },\n      cartDisplayConfig: {\n        display_full_tax_summary\n      } = {}\n    } = this.props;\n\n    if (!display_full_tax_summary || !applied_taxes.length) {\n      return null;\n    }\n\n    return applied_taxes.map(function ({\n      rates\n    }) {\n      return rates;\n    }).reduce(function (rates, rate) {\n      return rates.concat(rate);\n    }, []).map(function ({\n      percent,\n      title\n    }, i) {\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"CartPage\",\n        elem: \"TaxRate\" // eslint-disable-next-line react/no-array-index-key\n        ,\n        key: i,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, `${title} (${percent}%)`);\n    });\n  }\n\n  renderTax() {\n    const {\n      totals: {\n        tax_amount = 0\n      },\n      cartDisplayConfig: {\n        display_zero_tax_subtotal\n      } = {}\n    } = this.props;\n\n    if (!tax_amount && !display_zero_tax_subtotal) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"dt\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, __('Tax:'), this.renderTaxFullSummary()), /*#__PURE__*/_checkBEM(React, \"dd\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }, this.renderPriceLine(tax_amount)));\n  }\n\n  renderEstimatedShippingSubPrice() {\n    const {\n      cartShippingSubPrice\n    } = this.props;\n\n    if (!cartShippingSubPrice) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, `${__('Excl. tax:')} ${this.renderPriceLine(cartShippingSubPrice)}`);\n  }\n\n  renderEstimatedShipping() {\n    const {\n      cartShippingPrice\n    } = this.props;\n\n    if (!cartShippingPrice) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"dt\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, __('Estimated Shipping:')), /*#__PURE__*/_checkBEM(React, \"dd\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, this.renderPriceLine(cartShippingPrice), this.renderEstimatedShippingSubPrice()));\n  }\n\n  renderTotalDetails(isMobile = false) {\n    return /*#__PURE__*/_checkBEM(React, \"dl\", {\n      block: \"CartPage\",\n      elem: \"TotalDetails\",\n      \"aria-label\": __('Order total details'),\n      mods: {\n        isMobile\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, this.renderSubTotal(), this.renderEstimatedShipping(), this.renderDiscount(), this.renderTax());\n  }\n\n  renderOrderTotalExlTax() {\n    const {\n      cartTotalSubPrice\n    } = this.props;\n\n    if (!cartTotalSubPrice) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, `${__('Excl. tax:')} ${this.renderPriceLine(cartTotalSubPrice)}`);\n  }\n\n  renderTotal() {\n    const {\n      totals: {\n        grand_total = 0\n      }\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"dl\", {\n      block: \"CartPage\",\n      elem: \"Total\",\n      \"aria-label\": \"Complete order total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"dt\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, __('Order total:')), /*#__PURE__*/_checkBEM(React, \"dd\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }\n    }, this.renderPriceLine(grand_total), this.renderOrderTotalExlTax()));\n  }\n\n  renderSecureCheckoutButton() {\n    const {\n      onCheckoutButtonClick,\n      hasOutOfStockProductsInCart\n    } = this.props;\n\n    if (hasOutOfStockProductsInCart) {\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"CartPage\",\n        elem: \"OutOfStockProductsWarning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }\n      }, __('Remove out of stock products from cart'));\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"button\", {\n      block: \"CartPage\",\n      elem: \"CheckoutButton\",\n      mix: {\n        block: 'Button'\n      },\n      onClick: onCheckoutButtonClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }\n    }), __('Secure checkout'));\n  }\n\n  renderButtons() {\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartPage\",\n      elem: \"CheckoutButtons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }\n    }, this.renderSecureCheckoutButton(), /*#__PURE__*/_checkBEM(React, Link, {\n      block: \"CartPage\",\n      elem: \"ContinueShopping\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }, __('Continue shopping')));\n  }\n\n  renderTotals() {\n    return /*#__PURE__*/_checkBEM(React, \"article\", {\n      block: \"CartPage\",\n      elem: \"Summary\",\n      mix: {\n        block: 'FixedElement',\n        elem: 'Bottom'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"h3\", {\n      block: \"CartPage\",\n      elem: \"SummaryHeading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, __('Summary')), this.renderTotalDetails(), this.renderTotal(), this.renderButtons());\n  }\n\n  renderDiscount() {\n    const {\n      totals: {\n        applied_rule_ids,\n        coupon_code,\n        discount_amount = 0\n      }\n    } = this.props;\n\n    if (!applied_rule_ids || !discount_amount) {\n      return null;\n    }\n\n    if (!coupon_code) {\n      return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"dt\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }\n      }, __('Discount: ')), /*#__PURE__*/_checkBEM(React, \"dd\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }\n      }, `-${this.renderPriceLine(Math.abs(discount_amount))}`));\n    }\n\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"dt\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 17\n      }\n    }, __('Discount/Coupon '), /*#__PURE__*/_checkBEM(React, \"strong\", {\n      block: \"CartPage\",\n      elem: \"DiscountCoupon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }\n    }, coupon_code.toUpperCase())), /*#__PURE__*/_checkBEM(React, \"dd\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }\n    }, `-${this.renderPriceLine(Math.abs(discount_amount))}`));\n  }\n\n  renderCrossSellProducts() {\n    return /*#__PURE__*/_checkBEM(React, ProductLinks, {\n      linkType: CROSS_SELL,\n      title: __('Frequently bought together'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderPromoContent() {\n    const {\n      cart_content: {\n        cart_cms\n      } = {}\n    } = window.contentConfiguration;\n\n    if (cart_cms) {\n      return /*#__PURE__*/_checkBEM(React, CmsBlock, {\n        identifier: cart_cms,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"figure\", {\n      block: \"CartPage\",\n      elem: \"PromoBlock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"figcaption\", {\n      block: \"CartPage\",\n      elem: \"PromoText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 17\n      }\n    }, __('Free shipping on order 49$ and more.')));\n  }\n\n  renderPromo() {\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartPage\",\n      elem: \"Promo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 13\n      }\n    }, this.renderPromoContent());\n  }\n\n  renderHeading() {\n    return /*#__PURE__*/_checkBEM(React, \"h1\", {\n      block: \"CartPage\",\n      elem: \"Heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 13\n      }\n    }, __('Shopping cart'));\n  }\n\n  render() {\n    return /*#__PURE__*/_checkBEM(React, \"main\", {\n      block: \"CartPage\",\n      \"aria-label\": \"Cart Page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, ContentWrapper, {\n      wrapperMix: {\n        block: 'CartPage',\n        elem: 'Wrapper'\n      },\n      label: \"Cart page details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartPage\",\n      elem: \"Static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 21\n      }\n    }, this.renderHeading(), this.renderCartItems(), this.renderTotalDetails(true), this.renderDiscountCode(), this.renderCrossSellProducts()), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"CartPage\",\n      elem: \"Floating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 21\n      }\n    }, this.renderPromo(), this.renderTotals())));\n  }\n\n}, _class.propTypes = {\n  totals: TotalsType.isRequired,\n  onCheckoutButtonClick: PropTypes.func.isRequired,\n  hasOutOfStockProductsInCart: PropTypes.bool,\n  cartSubtotal: PropTypes.number,\n  cartSubtotalSubPrice: PropTypes.number,\n  cartTotalSubPrice: PropTypes.number,\n  cartShippingPrice: PropTypes.number,\n  cartShippingSubPrice: PropTypes.number,\n  cartDisplayConfig: PropTypes.object.isRequired\n}, _class.defaultProps = {\n  hasOutOfStockProductsInCart: false,\n  cartSubtotal: 0,\n  cartSubtotalSubPrice: null,\n  cartTotalSubPrice: null,\n  cartShippingPrice: 0,\n  cartShippingSubPrice: null\n}, _temp), \"Route/CartPage/Component\");\nexport default CartPage;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/route/CartPage/CartPage.component.js"],"names":["PropTypes","PureComponent","CartCoupon","CartItem","CmsBlock","ContentWrapper","ExpandableContent","Link","ProductLinks","CROSS_SELL","TotalsType","formatPrice","renderCartItems","totals","items","quote_currency_code","props","length","__","map","item","item_id","renderDiscountCode","coupon_code","block","elem","renderPriceLine","price","renderSubTotal","cartSubtotal","renderSubTotalExlTax","cartSubtotalSubPrice","renderTaxFullSummary","applied_taxes","cartDisplayConfig","display_full_tax_summary","rates","reduce","rate","concat","percent","title","i","renderTax","tax_amount","display_zero_tax_subtotal","renderEstimatedShippingSubPrice","cartShippingSubPrice","renderEstimatedShipping","cartShippingPrice","renderTotalDetails","isMobile","renderDiscount","renderOrderTotalExlTax","cartTotalSubPrice","renderTotal","grand_total","renderSecureCheckoutButton","onCheckoutButtonClick","hasOutOfStockProductsInCart","renderButtons","renderTotals","applied_rule_ids","discount_amount","Math","abs","toUpperCase","renderCrossSellProducts","renderPromoContent","cart_content","cart_cms","window","contentConfiguration","renderPromo","renderHeading","render","propTypes","isRequired","func","bool","number","object","defaultProps","CartPage"],"mappings":"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","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CartCoupon from 'Component/CartCoupon';\nimport CartItem from 'Component/CartItem';\nimport CmsBlock from 'Component/CmsBlock';\nimport ContentWrapper from 'Component/ContentWrapper';\nimport ExpandableContent from 'Component/ExpandableContent';\nimport Link from 'Component/Link';\nimport ProductLinks from 'Component/ProductLinks';\nimport { CROSS_SELL } from 'Store/LinkedProducts/LinkedProducts.reducer';\nimport { TotalsType } from 'Type/MiniCart';\nimport { formatPrice } from 'Util/Price';\n\nimport './CartPage.style';\n\n/** @namespace Route/CartPage/Component */\nexport class CartPage extends PureComponent {\n    static propTypes = {\n        totals: TotalsType.isRequired,\n        onCheckoutButtonClick: PropTypes.func.isRequired,\n        hasOutOfStockProductsInCart: PropTypes.bool,\n        cartSubtotal: PropTypes.number,\n        cartSubtotalSubPrice: PropTypes.number,\n        cartTotalSubPrice: PropTypes.number,\n        cartShippingPrice: PropTypes.number,\n        cartShippingSubPrice: PropTypes.number,\n        cartDisplayConfig: PropTypes.object.isRequired\n    };\n\n    static defaultProps = {\n        hasOutOfStockProductsInCart: false,\n        cartSubtotal: 0,\n        cartSubtotalSubPrice: null,\n        cartTotalSubPrice: null,\n        cartShippingPrice: 0,\n        cartShippingSubPrice: null\n    };\n\n    renderCartItems() {\n        const { totals: { items, quote_currency_code } } = this.props;\n\n        if (!items || items.length < 1) {\n            return (\n                <p block=\"CartPage\" elem=\"Empty\">{ __('There are no products in cart.') }</p>\n            );\n        }\n\n        return (\n            <>\n                <p block=\"CartPage\" elem=\"TableHead\" aria-hidden>\n                    <span>{ __('item') }</span>\n                    <span>{ __('qty') }</span>\n                    <span>{ __('subtotal') }</span>\n                </p>\n                <div block=\"CartPage\" elem=\"Items\" aria-label=\"List of items in cart\">\n                    { items.map((item) => (\n                        <CartItem\n                          key={ item.item_id }\n                          item={ item }\n                          currency_code={ quote_currency_code }\n                          isEditing\n                          isLikeTable\n                          updateCrossSellsOnRemove\n                        />\n                    )) }\n                </div>\n            </>\n        );\n    }\n\n    renderDiscountCode() {\n        const {\n            totals: { coupon_code }\n        } = this.props;\n\n        return (\n            <ExpandableContent\n              heading={ __('Have a discount code?') }\n              mix={ { block: 'CartPage', elem: 'Discount' } }\n            >\n                <CartCoupon couponCode={ coupon_code } />\n            </ExpandableContent>\n        );\n    }\n\n    renderPriceLine(price) {\n        const { totals: { quote_currency_code } } = this.props;\n        return formatPrice(price, quote_currency_code);\n    }\n\n    renderSubTotal() {\n        const { cartSubtotal } = this.props;\n\n        return (\n            <>\n                <dt>{ __('Subtotal:') }</dt>\n                <dd>\n                    { this.renderPriceLine(cartSubtotal) }\n                    { this.renderSubTotalExlTax() }\n                </dd>\n            </>\n        );\n    }\n\n    renderSubTotalExlTax() {\n        const { cartSubtotalSubPrice } = this.props;\n\n        if (!cartSubtotalSubPrice) {\n            return null;\n        }\n\n        return (\n            <span>\n                { `${ __('Excl. tax:') } ${ this.renderPriceLine(cartSubtotalSubPrice) }` }\n            </span>\n        );\n    }\n\n    renderTaxFullSummary() {\n        const {\n            totals: {\n                applied_taxes = []\n            },\n            cartDisplayConfig: {\n                display_full_tax_summary\n            } = {}\n        } = this.props;\n\n        if (!display_full_tax_summary || !applied_taxes.length) {\n            return null;\n        }\n\n        return applied_taxes\n            .map(({ rates }) => rates)\n            .reduce((rates, rate) => rates.concat(rate), [])\n            .map(({ percent, title }, i) => (\n                <div\n                  block=\"CartPage\"\n                  elem=\"TaxRate\"\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={ i }\n                >\n                    { `${title} (${percent}%)` }\n                </div>\n            ));\n    }\n\n    renderTax() {\n        const {\n            totals: {\n                tax_amount = 0\n            },\n            cartDisplayConfig: {\n                display_zero_tax_subtotal\n            } = {}\n        } = this.props;\n\n        if (!tax_amount && !display_zero_tax_subtotal) {\n            return null;\n        }\n\n        return (\n            <>\n                <dt>\n                    { __('Tax:') }\n                    { this.renderTaxFullSummary() }\n                </dt>\n                <dd>{ this.renderPriceLine(tax_amount) }</dd>\n            </>\n        );\n    }\n\n    renderEstimatedShippingSubPrice() {\n        const {\n            cartShippingSubPrice\n        } = this.props;\n\n        if (!cartShippingSubPrice) {\n            return null;\n        }\n\n        return (\n            <span>\n                { `${ __('Excl. tax:') } ${ this.renderPriceLine(cartShippingSubPrice) }` }\n            </span>\n        );\n    }\n\n    renderEstimatedShipping() {\n        const {\n            cartShippingPrice\n        } = this.props;\n\n        if (!cartShippingPrice) {\n            return null;\n        }\n\n        return (\n            <>\n                <dt>{ __('Estimated Shipping:') }</dt>\n                <dd>\n                    { this.renderPriceLine(cartShippingPrice) }\n                    { this.renderEstimatedShippingSubPrice() }\n                </dd>\n            </>\n        );\n    }\n\n    renderTotalDetails(isMobile = false) {\n        return (\n            <dl\n              block=\"CartPage\"\n              elem=\"TotalDetails\"\n              aria-label={ __('Order total details') }\n              mods={ { isMobile } }\n            >\n                { this.renderSubTotal() }\n                { this.renderEstimatedShipping() }\n                { this.renderDiscount() }\n                { this.renderTax() }\n            </dl>\n        );\n    }\n\n    renderOrderTotalExlTax() {\n        const { cartTotalSubPrice } = this.props;\n\n        if (!cartTotalSubPrice) {\n            return null;\n        }\n\n        return (\n            <span>\n                { `${ __('Excl. tax:') } ${ this.renderPriceLine(cartTotalSubPrice) }` }\n            </span>\n        );\n    }\n\n    renderTotal() {\n        const {\n            totals: {\n                grand_total = 0\n            }\n        } = this.props;\n\n        return (\n            <dl block=\"CartPage\" elem=\"Total\" aria-label=\"Complete order total\">\n                <dt>{ __('Order total:') }</dt>\n                <dd>\n                    { this.renderPriceLine(grand_total) }\n                    { this.renderOrderTotalExlTax() }\n                </dd>\n            </dl>\n        );\n    }\n\n    renderSecureCheckoutButton() {\n        const { onCheckoutButtonClick, hasOutOfStockProductsInCart } = this.props;\n\n        if (hasOutOfStockProductsInCart) {\n            return (\n                <div block=\"CartPage\" elem=\"OutOfStockProductsWarning\">\n                    { __('Remove out of stock products from cart') }\n                </div>\n            );\n        }\n\n        return (\n            <button\n              block=\"CartPage\"\n              elem=\"CheckoutButton\"\n              mix={ { block: 'Button' } }\n              onClick={ onCheckoutButtonClick }\n            >\n                <span />\n                { __('Secure checkout') }\n            </button>\n        );\n    }\n\n    renderButtons() {\n        return (\n            <div block=\"CartPage\" elem=\"CheckoutButtons\">\n                { this.renderSecureCheckoutButton() }\n                <Link\n                  block=\"CartPage\"\n                  elem=\"ContinueShopping\"\n                  to=\"/\"\n                >\n                    { __('Continue shopping') }\n                </Link>\n            </div>\n        );\n    }\n\n    renderTotals() {\n        return (\n            <article\n              block=\"CartPage\"\n              elem=\"Summary\"\n              mix={ { block: 'FixedElement', elem: 'Bottom' } }\n            >\n                <h3 block=\"CartPage\" elem=\"SummaryHeading\">{ __('Summary') }</h3>\n                { this.renderTotalDetails() }\n                { this.renderTotal() }\n                { this.renderButtons() }\n            </article>\n        );\n    }\n\n    renderDiscount() {\n        const {\n            totals: {\n                applied_rule_ids,\n                coupon_code,\n                discount_amount = 0\n            }\n        } = this.props;\n\n        if (!applied_rule_ids || !discount_amount) {\n            return null;\n        }\n\n        if (!coupon_code) {\n            return (\n                <>\n                    <dt>\n                        { __('Discount: ') }\n                    </dt>\n                    <dd>{ `-${this.renderPriceLine(Math.abs(discount_amount))}` }</dd>\n                </>\n            );\n        }\n\n        return (\n            <>\n                <dt>\n                    { __('Discount/Coupon ') }\n                    <strong block=\"CartPage\" elem=\"DiscountCoupon\">{ coupon_code.toUpperCase() }</strong>\n                </dt>\n                <dd>{ `-${this.renderPriceLine(Math.abs(discount_amount))}` }</dd>\n            </>\n        );\n    }\n\n    renderCrossSellProducts() {\n        return (\n            <ProductLinks\n              linkType={ CROSS_SELL }\n              title={ __('Frequently bought together') }\n            />\n        );\n    }\n\n    renderPromoContent() {\n        const { cart_content: { cart_cms } = {} } = window.contentConfiguration;\n\n        if (cart_cms) {\n            return <CmsBlock identifier={ cart_cms } />;\n        }\n\n        return (\n            <figure\n              block=\"CartPage\"\n              elem=\"PromoBlock\"\n            >\n                <figcaption block=\"CartPage\" elem=\"PromoText\">\n                    { __('Free shipping on order 49$ and more.') }\n                </figcaption>\n            </figure>\n        );\n    }\n\n    renderPromo() {\n        return (\n            <div\n              block=\"CartPage\"\n              elem=\"Promo\"\n            >\n                { this.renderPromoContent() }\n            </div>\n        );\n    }\n\n    renderHeading() {\n        return (\n            <h1 block=\"CartPage\" elem=\"Heading\">\n                { __('Shopping cart') }\n            </h1>\n        );\n    }\n\n    render() {\n        return (\n            <main block=\"CartPage\" aria-label=\"Cart Page\">\n                <ContentWrapper\n                  wrapperMix={ { block: 'CartPage', elem: 'Wrapper' } }\n                  label=\"Cart page details\"\n                >\n                    <div block=\"CartPage\" elem=\"Static\">\n                        { this.renderHeading() }\n                        { this.renderCartItems() }\n                        { this.renderTotalDetails(true) }\n                        { this.renderDiscountCode() }\n                        { this.renderCrossSellProducts() }\n                    </div>\n                    <div block=\"CartPage\" elem=\"Floating\">\n                        { this.renderPromo() }\n                        { this.renderTotals() }\n                    </div>\n                </ContentWrapper>\n            </main>\n        );\n    }\n}\n\nexport default CartPage;\n"]},"metadata":{},"sourceType":"module"}