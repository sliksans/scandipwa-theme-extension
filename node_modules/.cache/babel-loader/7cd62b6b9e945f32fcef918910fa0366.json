{"ast":null,"code":"var _class,\n    _temp,\n    _jsxFileName = \"/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/Menu/Menu.component.js\";\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport CmsBlock from \"/home/arturs/scandiweb/extension/src/component/CmsBlock\";\nimport CurrencySwitcher from \"/home/arturs/scandiweb/extension/src/component/CurrencySwitcher\";\nimport Link from \"/home/arturs/scandiweb/extension/src/component/Link\";\nimport MenuItem from \"/home/arturs/scandiweb/extension/src/component/MenuItem\";\nimport StoreSwitcher from \"/home/arturs/scandiweb/extension/src/component/StoreSwitcher\";\nimport { DeviceType } from \"/home/arturs/scandiweb/extension/src/type/Device\";\nimport { MenuType } from \"/home/arturs/scandiweb/extension/src/type/Menu\";\nimport { getSortedItems } from \"/home/arturs/scandiweb/extension/src/util/Menu\";\nimport { debounce } from \"/home/arturs/scandiweb/extension/src/util/Request\";\nimport { HEADER_CMS_BLOCK, SCROLL_DEBOUNCE_DELAY } from \"./Menu.config\";\nimport \"./Menu.style\";\n/** #namespace Component/Menu/Component */\n\nvar _checkBEM = require(\"babel-plugin-transform-rebem-jsx\").checkBEMProps;\n\nexport const Menu = Mosaic.middleware((_temp = _class = class Menu_ extends Mosaic.Extensible(PureComponent) {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.renderSubLevelItems = function (item) {\n      const {\n        handleSubcategoryClick,\n        activeMenuItemsStack,\n        onCategoryHover,\n        closeMenu,\n        device\n      } = _this.props;\n      const {\n        item_id,\n        children,\n        item_class\n      } = item;\n      const isBanner = item_class === 'Menu-ItemFigure_type_banner';\n      const isHideOnDesktop = item_class === 'Menu-ItemFigure_type_hideOnDesktop';\n      const mods = {\n        isBanner: !!isBanner,\n        isHideOnDesktop: !!isHideOnDesktop\n      };\n      const childrenArray = Object.values(children);\n      const subcategoryMods = {\n        type: 'subcategory'\n      };\n\n      if (childrenArray.length && device.isMobile) {\n        return /*#__PURE__*/_checkBEM(React, \"div\", {\n          key: item_id // TODO: split into smaller components\n          // eslint-disable-next-line react/jsx-no-bind\n          ,\n          onClick: function (e) {\n            return handleSubcategoryClick(e, item);\n          },\n          tabIndex: \"0\",\n          role: \"button\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/_checkBEM(React, MenuItem, {\n          activeMenuItemsStack: activeMenuItemsStack,\n          item: item,\n          itemMods: subcategoryMods,\n          onCategoryHover: onCategoryHover,\n          closeMenu: closeMenu,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }\n        }), _this.renderSubLevel(item));\n      }\n\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"Menu\",\n        elem: \"SubItemWrapper\",\n        key: item_id,\n        mods: mods,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/_checkBEM(React, MenuItem, {\n        activeMenuItemsStack: activeMenuItemsStack,\n        item: item,\n        closeMenu: closeMenu,\n        isLink: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      }), _this.renderDesktopSubLevel(item));\n    };\n\n    this.renderSubMenuDesktopItems = function (item) {\n      const {\n        item_id,\n        children\n      } = item;\n\n      if (!Object.keys(children).length) {\n        return null;\n      }\n\n      const {\n        activeMenuItemsStack,\n        closeMenu\n      } = _this.props;\n      const isVisible = activeMenuItemsStack.includes(item_id);\n\n      if (!isVisible) {\n        return null;\n      }\n\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"Menu\",\n        elem: \"SubCategoriesWrapper\",\n        mods: {\n          isVisible\n        },\n        key: item_id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"Menu\",\n        elem: \"SubCategoriesWrapperInner\",\n        mods: {\n          isVisible\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"Menu\",\n        elem: \"SubCategories\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }\n      }, _this.renderSubLevel(item)), _this.renderAdditionalInformation()), /*#__PURE__*/_checkBEM(React, \"div\", {\n        block: \"Menu\",\n        elem: \"Overlay\",\n        mods: {\n          isVisible\n        },\n        onMouseEnter: closeMenu,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    this.renderFirstLevel = function (item) {\n      const {\n        item_id,\n        item_class\n      } = item;\n      const isHideOnDesktop = item_class === 'Menu-ItemFigure_type_hideOnDesktop';\n      return /*#__PURE__*/_checkBEM(React, \"li\", {\n        block: \"Menu\",\n        elem: \"Item\",\n        key: item_id,\n        mods: {\n          isHideOnDesktop\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }\n      }, _this.renderFirstLevelItems(item));\n    };\n  }\n\n  componentDidMount() {\n    const {\n      closeMenu\n    } = this.props;\n    this.debouncedCloseMenu = debounce(closeMenu, SCROLL_DEBOUNCE_DELAY);\n    window.addEventListener('scroll', this.debouncedCloseMenu);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.debouncedCloseMenu);\n  }\n\n  renderDesktopSubLevelItems(item, mods) {\n    const {\n      item_id,\n      item_class\n    } = item;\n    const {\n      closeMenu,\n      activeMenuItemsStack\n    } = this.props;\n    const isHideOnDesktop = item_class === 'Menu-ItemFigure_type_hideOnDesktop';\n    const itemMods = { ...mods,\n      isHideOnDesktop\n    };\n    return /*#__PURE__*/_checkBEM(React, MenuItem, {\n      activeMenuItemsStack: activeMenuItemsStack,\n      item: item,\n      itemMods: itemMods,\n      closeMenu: closeMenu,\n      isLink: true,\n      key: item_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderDesktopSubLevel(category) {\n    var _this2 = this;\n\n    const {\n      device\n    } = this.props;\n    const {\n      children,\n      item_class,\n      item_id\n    } = category;\n    const childrenArray = getSortedItems(Object.values(children));\n\n    if (device.isMobile || !childrenArray.length) {\n      return null;\n    }\n\n    const isBanner = item_class === 'Menu-ItemFigure_type_banner';\n    const isLogo = item_class === 'Menu-ItemFigure_type_logo';\n    const mods = {\n      isBanner: !!isBanner,\n      isLogo: !!isLogo\n    };\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"SubLevelDesktop\",\n      key: item_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"ItemList\",\n      mods: { ...mods\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, childrenArray.map(function (item) {\n      return _this2.renderDesktopSubLevelItems(item, mods);\n    })));\n  }\n\n  renderSubLevel(category) {\n    const {\n      activeMenuItemsStack\n    } = this.props;\n    const {\n      item_id,\n      children\n    } = category;\n    const childrenArray = getSortedItems(Object.values(children));\n    const isVisible = activeMenuItemsStack.includes(item_id);\n    const subcategoryMods = {\n      type: 'subcategory'\n    };\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"SubMenu\",\n      mods: {\n        isVisible\n      },\n      key: item_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"ItemList\",\n      mods: { ...subcategoryMods\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, childrenArray.map(this.renderSubLevelItems)));\n  }\n\n  renderPromotionCms() {\n    const {\n      closeMenu\n    } = this.props;\n    const {\n      header_content: {\n        header_cms\n      } = {}\n    } = window.contentConfiguration;\n\n    if (header_cms) {\n      return /*#__PURE__*/_checkBEM(React, CmsBlock, {\n        identifier: header_cms,\n        blockType: HEADER_CMS_BLOCK,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"Promotion\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"h3\", {\n      block: \"Menu\",\n      elem: \"PageLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, Link, {\n      to: \"/about-us\",\n      onClick: closeMenu,\n      block: \"Menu\",\n      elem: \"Link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, __('ABOUT US'))), /*#__PURE__*/_checkBEM(React, \"h3\", {\n      block: \"Menu\",\n      elem: \"PageLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, Link, {\n      to: \"/about-us\",\n      onClick: closeMenu,\n      block: \"Menu\",\n      elem: \"Link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, __('CONTACTS'))), /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"Social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, CmsBlock, {\n      identifier: \"social-links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    })));\n  }\n\n  renderSubMenuDesktop(itemList) {\n    const {\n      device\n    } = this.props;\n\n    if (device.isMobile) {\n      return null;\n    }\n\n    const childrenArray = getSortedItems(Object.values(itemList));\n    return childrenArray.map(this.renderSubMenuDesktopItems);\n  }\n\n  renderAdditionalInformation(checkMobile = false) {\n    const {\n      device\n    } = this.props;\n\n    if (checkMobile && !device.isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, this.renderStoreSwitcher(), this.renderCurrencySwitcher(), this.renderComparePageLink(), this.renderPromotionCms());\n  }\n\n  renderFirstLevelItems(item) {\n    const {\n      activeMenuItemsStack,\n      handleSubcategoryClick,\n      onCategoryHover,\n      closeMenu,\n      device\n    } = this.props;\n    const {\n      children\n    } = item;\n    const childrenArray = Object.values(children);\n    const itemMods = {\n      type: 'main'\n    };\n\n    if (childrenArray.length && device.isMobile) {\n      return /*#__PURE__*/_checkBEM(React, \"div\", {\n        // TODO: split into smaller components\n        // eslint-disable-next-line react/jsx-no-bind\n        onClick: function (e) {\n          return handleSubcategoryClick(e, item);\n        },\n        tabIndex: \"0\",\n        block: \"Menu\",\n        elem: \"SubCatLink\",\n        role: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/_checkBEM(React, MenuItem, {\n        activeMenuItemsStack: activeMenuItemsStack,\n        item: item,\n        itemMods: itemMods,\n        onCategoryHover: onCategoryHover,\n        closeMenu: closeMenu,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }\n      }), this.renderSubLevel(item));\n    }\n\n    return /*#__PURE__*/_checkBEM(React, MenuItem, {\n      activeMenuItemsStack: activeMenuItemsStack,\n      item: item,\n      itemMods: itemMods,\n      onCategoryHover: onCategoryHover,\n      closeMenu: closeMenu,\n      isLink: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderTopLevel() {\n    const {\n      menu\n    } = this.props;\n    const categoryArray = Object.values(menu);\n\n    if (!categoryArray.length) {\n      return null;\n    }\n\n    const [{\n      children,\n      title: mainCategoriesTitle\n    }] = categoryArray;\n    const childrenArray = getSortedItems(Object.values(children));\n    return /*#__PURE__*/_checkBEM(React, React.Fragment, null, /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"MainCategories\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/_checkBEM(React, \"ul\", {\n      block: \"Menu\",\n      elem: \"ItemList\",\n      mods: {\n        type: 'main'\n      },\n      \"aria-label\": mainCategoriesTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 21\n      }\n    }, childrenArray.map(this.renderFirstLevel)), this.renderAdditionalInformation(true)), this.renderSubMenuDesktop(children));\n  }\n\n  renderCurrencySwitcher() {\n    const {\n      device\n    } = this.props;\n\n    if (!device.isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, CurrencySwitcher, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 16\n      }\n    });\n  }\n\n  renderStoreSwitcher() {\n    const {\n      device\n    } = this.props;\n\n    if (!device.isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, StoreSwitcher, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 16\n      }\n    });\n  }\n\n  renderComparePageLink() {\n    const {\n      device\n    } = this.props;\n\n    if (!device.isMobile) {\n      return null;\n    }\n\n    return /*#__PURE__*/_checkBEM(React, \"h3\", {\n      block: \"Menu\",\n      elem: \"CompareLinkWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/_checkBEM(React, Link, {\n      to: \"compare\",\n      block: \"Menu\",\n      elem: \"CompareLink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 17\n      }\n    }, __('Compare')));\n  }\n\n  render() {\n    const {\n      closeMenu\n    } = this.props;\n    return /*#__PURE__*/_checkBEM(React, \"div\", {\n      block: \"Menu\",\n      elem: \"MenuWrapper\",\n      onMouseLeave: closeMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 13\n      }\n    }, this.renderTopLevel());\n  }\n\n}, _class.propTypes = {\n  menu: MenuType.isRequired,\n  activeMenuItemsStack: PropTypes.array.isRequired,\n  handleSubcategoryClick: PropTypes.func.isRequired,\n  closeMenu: PropTypes.func.isRequired,\n  onCategoryHover: PropTypes.func.isRequired,\n  device: DeviceType.isRequired\n}, _temp), \"Component/Menu/Component\");\nexport default Menu;","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/component/Menu/Menu.component.js"],"names":["PropTypes","PureComponent","CmsBlock","CurrencySwitcher","Link","MenuItem","StoreSwitcher","DeviceType","MenuType","getSortedItems","debounce","HEADER_CMS_BLOCK","SCROLL_DEBOUNCE_DELAY","renderSubLevelItems","item","handleSubcategoryClick","activeMenuItemsStack","onCategoryHover","closeMenu","device","props","item_id","children","item_class","isBanner","isHideOnDesktop","mods","childrenArray","Object","values","subcategoryMods","type","length","isMobile","e","renderSubLevel","renderDesktopSubLevel","renderSubMenuDesktopItems","keys","isVisible","includes","renderAdditionalInformation","renderFirstLevel","renderFirstLevelItems","componentDidMount","debouncedCloseMenu","window","addEventListener","componentWillUnmount","removeEventListener","renderDesktopSubLevelItems","itemMods","category","isLogo","map","renderPromotionCms","header_content","header_cms","contentConfiguration","__","renderSubMenuDesktop","itemList","checkMobile","renderStoreSwitcher","renderCurrencySwitcher","renderComparePageLink","renderTopLevel","menu","categoryArray","title","mainCategoriesTitle","render","propTypes","isRequired","array","func","Menu"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CmsBlock from 'Component/CmsBlock';\nimport CurrencySwitcher from 'Component/CurrencySwitcher';\nimport Link from 'Component/Link';\nimport MenuItem from 'Component/MenuItem';\nimport StoreSwitcher from 'Component/StoreSwitcher';\nimport { DeviceType } from 'Type/Device';\nimport { MenuType } from 'Type/Menu';\nimport { getSortedItems } from 'Util/Menu';\nimport { debounce } from 'Util/Request';\n\nimport { HEADER_CMS_BLOCK, SCROLL_DEBOUNCE_DELAY } from './Menu.config';\n\nimport './Menu.style';\n\n/** @namespace Component/Menu/Component */\nexport class Menu extends PureComponent {\n    static propTypes = {\n        menu: MenuType.isRequired,\n        activeMenuItemsStack: PropTypes.array.isRequired,\n        handleSubcategoryClick: PropTypes.func.isRequired,\n        closeMenu: PropTypes.func.isRequired,\n        onCategoryHover: PropTypes.func.isRequired,\n        device: DeviceType.isRequired\n    };\n\n    componentDidMount() {\n        const { closeMenu } = this.props;\n\n        this.debouncedCloseMenu = debounce(closeMenu, SCROLL_DEBOUNCE_DELAY);\n\n        window.addEventListener('scroll', this.debouncedCloseMenu);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.debouncedCloseMenu);\n    }\n\n    renderDesktopSubLevelItems(item, mods) {\n        const { item_id, item_class } = item;\n        const { closeMenu, activeMenuItemsStack } = this.props;\n\n        const isHideOnDesktop = item_class === 'Menu-ItemFigure_type_hideOnDesktop';\n        const itemMods = { ...mods, isHideOnDesktop };\n\n        return (\n            <MenuItem\n              activeMenuItemsStack={ activeMenuItemsStack }\n              item={ item }\n              itemMods={ itemMods }\n              closeMenu={ closeMenu }\n              isLink\n              key={ item_id }\n            />\n        );\n    }\n\n    renderDesktopSubLevel(category) {\n        const { device } = this.props;\n        const { children, item_class, item_id } = category;\n        const childrenArray = getSortedItems(Object.values(children));\n\n        if (device.isMobile || !childrenArray.length) {\n            return null;\n        }\n\n        const isBanner = item_class === 'Menu-ItemFigure_type_banner';\n        const isLogo = item_class === 'Menu-ItemFigure_type_logo';\n        const mods = {\n            isBanner: !!isBanner,\n            isLogo: !!isLogo\n        };\n\n        return (\n            <div\n              block=\"Menu\"\n              elem=\"SubLevelDesktop\"\n              key={ item_id }\n            >\n                <div\n                  block=\"Menu\"\n                  elem=\"ItemList\"\n                  mods={ { ...mods } }\n                >\n                    { childrenArray.map((item) => this.renderDesktopSubLevelItems(item, mods)) }\n                </div>\n            </div>\n        );\n    }\n\n    renderSubLevelItems = (item) => {\n        const {\n            handleSubcategoryClick,\n            activeMenuItemsStack,\n            onCategoryHover,\n            closeMenu,\n            device\n        } = this.props;\n\n        const {\n            item_id,\n            children,\n            item_class\n        } = item;\n\n        const isBanner = item_class === 'Menu-ItemFigure_type_banner';\n        const isHideOnDesktop = item_class === 'Menu-ItemFigure_type_hideOnDesktop';\n        const mods = {\n            isBanner: !!isBanner,\n            isHideOnDesktop: !!isHideOnDesktop\n        };\n\n        const childrenArray = Object.values(children);\n        const subcategoryMods = { type: 'subcategory' };\n\n        if (childrenArray.length && device.isMobile) {\n            return (\n                <div\n                  key={ item_id }\n                  // TODO: split into smaller components\n                  // eslint-disable-next-line react/jsx-no-bind\n                  onClick={ (e) => handleSubcategoryClick(e, item) }\n                  tabIndex=\"0\"\n                  role=\"button\"\n                >\n                    <MenuItem\n                      activeMenuItemsStack={ activeMenuItemsStack }\n                      item={ item }\n                      itemMods={ subcategoryMods }\n                      onCategoryHover={ onCategoryHover }\n                      closeMenu={ closeMenu }\n                    />\n                    { this.renderSubLevel(item) }\n                </div>\n            );\n        }\n\n        return (\n            <div\n              block=\"Menu\"\n              elem=\"SubItemWrapper\"\n              key={ item_id }\n              mods={ mods }\n            >\n                <MenuItem\n                  activeMenuItemsStack={ activeMenuItemsStack }\n                  item={ item }\n                  closeMenu={ closeMenu }\n                  isLink\n                />\n                { this.renderDesktopSubLevel(item) }\n            </div>\n        );\n    };\n\n    renderSubLevel(category) {\n        const { activeMenuItemsStack } = this.props;\n        const { item_id, children } = category;\n        const childrenArray = getSortedItems(Object.values(children));\n        const isVisible = activeMenuItemsStack.includes(item_id);\n        const subcategoryMods = { type: 'subcategory' };\n\n        return (\n            <div\n              block=\"Menu\"\n              elem=\"SubMenu\"\n              mods={ { isVisible } }\n              key={ item_id }\n            >\n                <div\n                  block=\"Menu\"\n                  elem=\"ItemList\"\n                  mods={ { ...subcategoryMods } }\n                >\n                    { childrenArray.map(this.renderSubLevelItems) }\n                </div>\n            </div>\n        );\n    }\n\n    renderPromotionCms() {\n        const { closeMenu } = this.props;\n        const { header_content: { header_cms } = {} } = window.contentConfiguration;\n\n        if (header_cms) {\n            return <CmsBlock identifier={ header_cms } blockType={ HEADER_CMS_BLOCK } />;\n        }\n\n        return (\n            <div block=\"Menu\" elem=\"Promotion\">\n                <h3 block=\"Menu\" elem=\"PageLink\">\n                    <Link\n                      to=\"/about-us\"\n                      onClick={ closeMenu }\n                      block=\"Menu\"\n                      elem=\"Link\"\n                    >\n                        { __('ABOUT US') }\n                    </Link>\n                </h3>\n                <h3 block=\"Menu\" elem=\"PageLink\">\n                    <Link\n                      to=\"/about-us\"\n                      onClick={ closeMenu }\n                      block=\"Menu\"\n                      elem=\"Link\"\n                    >\n                        { __('CONTACTS') }\n                    </Link>\n                </h3>\n                <div block=\"Menu\" elem=\"Social\">\n                    <CmsBlock identifier=\"social-links\" />\n                </div>\n            </div>\n        );\n    }\n\n    renderSubMenuDesktopItems = (item) => {\n        const { item_id, children } = item;\n\n        if (!Object.keys(children).length) {\n            return null;\n        }\n\n        const { activeMenuItemsStack, closeMenu } = this.props;\n        const isVisible = activeMenuItemsStack.includes(item_id);\n\n        if (!isVisible) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"Menu\"\n              elem=\"SubCategoriesWrapper\"\n              mods={ { isVisible } }\n              key={ item_id }\n            >\n                <div\n                  block=\"Menu\"\n                  elem=\"SubCategoriesWrapperInner\"\n                  mods={ { isVisible } }\n                >\n                    <div\n                      block=\"Menu\"\n                      elem=\"SubCategories\"\n                    >\n                        { this.renderSubLevel(item) }\n                    </div>\n                    { this.renderAdditionalInformation() }\n                </div>\n                <div\n                  block=\"Menu\"\n                  elem=\"Overlay\"\n                  mods={ { isVisible } }\n                  onMouseEnter={ closeMenu }\n                />\n            </div>\n        );\n    };\n\n    renderSubMenuDesktop(itemList) {\n        const { device } = this.props;\n        if (device.isMobile) {\n            return null;\n        }\n\n        const childrenArray = getSortedItems(Object.values(itemList));\n\n        return childrenArray.map(this.renderSubMenuDesktopItems);\n    }\n\n    renderAdditionalInformation(checkMobile = false) {\n        const { device } = this.props;\n        if (checkMobile && !device.isMobile) {\n            return null;\n        }\n\n        return (\n            <>\n                { this.renderStoreSwitcher() }\n                { this.renderCurrencySwitcher() }\n                { this.renderComparePageLink() }\n                { this.renderPromotionCms() }\n            </>\n        );\n    }\n\n    renderFirstLevelItems(item) {\n        const {\n            activeMenuItemsStack,\n            handleSubcategoryClick,\n            onCategoryHover,\n            closeMenu,\n            device\n        } = this.props;\n\n        const { children } = item;\n        const childrenArray = Object.values(children);\n        const itemMods = { type: 'main' };\n\n        if (childrenArray.length && device.isMobile) {\n            return (\n                <div\n                  // TODO: split into smaller components\n                  // eslint-disable-next-line react/jsx-no-bind\n                  onClick={ (e) => handleSubcategoryClick(e, item) }\n                  tabIndex=\"0\"\n                  block=\"Menu\"\n                  elem=\"SubCatLink\"\n                  role=\"button\"\n                >\n                    <MenuItem\n                      activeMenuItemsStack={ activeMenuItemsStack }\n                      item={ item }\n                      itemMods={ itemMods }\n                      onCategoryHover={ onCategoryHover }\n                      closeMenu={ closeMenu }\n                    />\n                    { this.renderSubLevel(item) }\n                </div>\n            );\n        }\n\n        return (\n            <MenuItem\n              activeMenuItemsStack={ activeMenuItemsStack }\n              item={ item }\n              itemMods={ itemMods }\n              onCategoryHover={ onCategoryHover }\n              closeMenu={ closeMenu }\n              isLink\n            />\n        );\n    }\n\n    renderFirstLevel = (item) => {\n        const { item_id, item_class } = item;\n\n        const isHideOnDesktop = item_class === 'Menu-ItemFigure_type_hideOnDesktop';\n\n        return (\n            <li\n              block=\"Menu\"\n              elem=\"Item\"\n              key={ item_id }\n              mods={ { isHideOnDesktop } }\n            >\n                { this.renderFirstLevelItems(item) }\n            </li>\n        );\n    };\n\n    renderTopLevel() {\n        const { menu } = this.props;\n        const categoryArray = Object.values(menu);\n\n        if (!categoryArray.length) {\n            return null;\n        }\n\n        const [{ children, title: mainCategoriesTitle }] = categoryArray;\n        const childrenArray = getSortedItems(Object.values(children));\n\n        return (\n            <>\n                <div block=\"Menu\" elem=\"MainCategories\">\n                    <ul\n                      block=\"Menu\"\n                      elem=\"ItemList\"\n                      mods={ { type: 'main' } }\n                      aria-label={ mainCategoriesTitle }\n                    >\n                        { childrenArray.map(this.renderFirstLevel) }\n                    </ul>\n                    { this.renderAdditionalInformation(true) }\n                </div>\n                { this.renderSubMenuDesktop(children) }\n            </>\n        );\n    }\n\n    renderCurrencySwitcher() {\n        const { device } = this.props;\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return <CurrencySwitcher />;\n    }\n\n    renderStoreSwitcher() {\n        const { device } = this.props;\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return <StoreSwitcher />;\n    }\n\n    renderComparePageLink() {\n        const { device } = this.props;\n        if (!device.isMobile) {\n            return null;\n        }\n\n        return (\n            <h3 block=\"Menu\" elem=\"CompareLinkWrapper\">\n                <Link to=\"compare\" block=\"Menu\" elem=\"CompareLink\">\n                    { __('Compare') }\n                </Link>\n            </h3>\n        );\n    }\n\n    render() {\n        const { closeMenu } = this.props;\n\n        return (\n            <div\n              block=\"Menu\"\n              elem=\"MenuWrapper\"\n              onMouseLeave={ closeMenu }\n            >\n                { this.renderTopLevel() }\n            </div>\n        );\n    }\n}\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}