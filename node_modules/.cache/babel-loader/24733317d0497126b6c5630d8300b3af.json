{"ast":null,"code":"/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\nimport { getIndexedProducts } from \"/home/arturs/scandiweb/extension/src/util/Product\";\nimport { CLEAR_SEARCH_RESULTS, UPDATE_SEARCH_BAR, UPDATE_SEARCH_LOAD_STATUS } from \"./SearchBar.action\";\n/** #namespace Store/SearchBar/Reducer/getInitialState */\n\nexport const getInitialState = Mosaic.middleware(function () {\n  return {\n    productsInSearch: [],\n    isLoading: true\n  };\n}, \"Store/SearchBar/Reducer/getInitialState\");\n/** #namespace Store/SearchBar/Reducer */\n\nexport const SearchBarReducer = Mosaic.middleware(_c = function (state = getInitialState(), action) {\n  switch (action.type) {\n    case UPDATE_SEARCH_BAR:\n      const {\n        result: {\n          products: {\n            items: initialItems\n          }\n        }\n      } = action;\n      return { ...state,\n        productsInSearch: getIndexedProducts(initialItems)\n      };\n\n    case UPDATE_SEARCH_LOAD_STATUS:\n      const {\n        isLoading\n      } = action;\n      return { ...state,\n        isLoading\n      };\n\n    case CLEAR_SEARCH_RESULTS:\n      return { ...state,\n        productsInSearch: getInitialState().productsInSearch\n      };\n\n    default:\n      return state;\n  }\n}, \"Store/SearchBar/Reducer\");\n_c2 = SearchBarReducer;\nexport default SearchBarReducer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SearchBarReducer$\");\n$RefreshReg$(_c2, \"SearchBarReducer\");","map":{"version":3,"sources":["/home/arturs/scandiweb/extension/node_modules/@scandipwa/scandipwa/src/store/SearchBar/SearchBar.reducer.js"],"names":["getIndexedProducts","CLEAR_SEARCH_RESULTS","UPDATE_SEARCH_BAR","UPDATE_SEARCH_LOAD_STATUS","getInitialState","productsInSearch","isLoading","SearchBarReducer","state","action","type","result","products","items","initialItems"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,kBAAT;AAEA,SACIC,oBADJ,EAEIC,iBAFJ,EAGIC,yBAHJ;AAMA;;AACA,OAAO,MAAMC,eAAe,qBAAG;AAAA,SAAO;AAClCC,IAAAA,gBAAgB,EAAE,EADgB;AAElCC,IAAAA,SAAS,EAAE;AAFuB,GAAP;AAAA,CAAH,4CAArB;AAKP;;AACA,OAAO,MAAMC,gBAAgB,0BAAG,UAC5BC,KAAK,GAAGJ,eAAe,EADK,EAE5BK,MAF4B,EAG3B;AACD,UAAQA,MAAM,CAACC,IAAf;AACA,SAAKR,iBAAL;AACI,YAAM;AAAES,QAAAA,MAAM,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,KAAK,EAAEC;AAAT;AAAZ;AAAV,UAAoDL,MAA1D;AAEA,aAAO,EACH,GAAGD,KADA;AAEHH,QAAAA,gBAAgB,EAAEL,kBAAkB,CAACc,YAAD;AAFjC,OAAP;;AAKJ,SAAKX,yBAAL;AACI,YAAM;AAAEG,QAAAA;AAAF,UAAgBG,MAAtB;AAEA,aAAO,EACH,GAAGD,KADA;AAEHF,QAAAA;AAFG,OAAP;;AAKJ,SAAKL,oBAAL;AACI,aAAO,EACH,GAAGO,KADA;AAEHH,QAAAA,gBAAgB,EAAED,eAAe,GAAGC;AAFjC,OAAP;;AAKJ;AACI,aAAOG,KAAP;AAxBJ;AA0BH,CA9B4B,4BAAtB;MAAMD,gB;AAgCb,eAAeA,gBAAf","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport { getIndexedProducts } from 'Util/Product';\n\nimport {\n    CLEAR_SEARCH_RESULTS,\n    UPDATE_SEARCH_BAR,\n    UPDATE_SEARCH_LOAD_STATUS\n} from './SearchBar.action';\n\n/** @namespace Store/SearchBar/Reducer/getInitialState */\nexport const getInitialState = () => ({\n    productsInSearch: [],\n    isLoading: true\n});\n\n/** @namespace Store/SearchBar/Reducer */\nexport const SearchBarReducer = (\n    state = getInitialState(),\n    action\n) => {\n    switch (action.type) {\n    case UPDATE_SEARCH_BAR:\n        const { result: { products: { items: initialItems } } } = action;\n\n        return {\n            ...state,\n            productsInSearch: getIndexedProducts(initialItems)\n        };\n\n    case UPDATE_SEARCH_LOAD_STATUS:\n        const { isLoading } = action;\n\n        return {\n            ...state,\n            isLoading\n        };\n\n    case CLEAR_SEARCH_RESULTS:\n        return {\n            ...state,\n            productsInSearch: getInitialState().productsInSearch\n        };\n\n    default:\n        return state;\n    }\n};\n\nexport default SearchBarReducer;\n"]},"metadata":{},"sourceType":"module"}